local addonName, addonTable = ...;
local fuFrame = List_R_F_1_1
local _, _, _, tocversion = GetBuildInfo()
local gsub = _G.string.gsub
local find = _G.string.find
local sub = _G.string.sub
local match = _G.string.match
local ADD_Frame=addonTable.ADD_Frame
local ADD_Checkbutton=addonTable.ADD_Checkbutton
------------------------------------------------------
fuFrame.RP = fuFrame:CreateLine()
fuFrame.RP:SetColorTexture(0.8,0.8,0.8,0.5)
fuFrame.RP:SetThickness(1);
fuFrame.RP:SetStartPoint("TOPLEFT",1,-350)
fuFrame.RP:SetEndPoint("TOPRIGHT",-1,-350)
--------------------------------------------
local biaotou='!Pig-YCCK';
local YCinfo={["shenqing"] = "qingqiuchakan"}
C_ChatInfo.RegisterAddonMessagePrefix(biaotou)
--------
local QualityColor=addonTable.QualityColor
local tianfuBG = {
	["DEATHKNIGHT"]={136864,136865,136866,136867,136868,136869,136870,136871,136872,136873,136874,136875},
	["DRUID"]={136876,136877,136878,136879,136880,136881,136882,136883,136884,136885,136886,136887},
	["HUNTER"]={136888,136889,136890,136891,136892,136893,136894,136895,136896,136897,136898,136899},
	["MAGE"]={136900,136901,136902,136903,136904,136905,136906,136907,136908,136909,136910,136911},
	["PALADIN"]={136916,136917,136918,136919,136920,136921,136922,136923,136912,136913,136914,136915},
	["PRIEST"]={136924,136925,136926,136927,136928,136929,136930,136931,136932,136933,136934,136935},
	["ROGUE"]={136936,136937,136938,136939,136940,136941,136942,136943,136944,136945,136946,136947},
	["SHAMAN"]={136948,136949,136950,136951,136952,136953,136954,136955,136956,136957,136958,136959},
	["WARLOCK"]={136965,136966,136967,136968,136973,136974,136975,136976,136969,136970,136971,136972},
	["WARRIOR"]={136981,136982,136983,136984,136985,136986,136987,136988,136989,136990,136991,136992},
}
local tianfuTabName = {
	["DEATHKNIGHT"]={[1]="鲜血",[2]="冰霜",[3]="邪恶"},
	["DRUID"] ={[1]="平衡",[2]="野性战斗",[3]="恢复"},
	["HUNTER"] ={[1]="野兽控制",[2]="射击",[3]="生存"},
	["MAGE"] ={[1]="奥术",[2]="火焰",[3]="冰霜"},
	["PALADIN"] ={[1]="神圣",[2]="防护",[3]="惩戒"},
	["PRIEST"] ={[1]="戒律",[2]="神圣",[3]="暗影"},
	["ROGUE"] ={[1]="刺杀",[2]="战斗",[3]="敏锐"},
	["SHAMAN"] ={[1]="元素",[2]="增强",[3]="恢复"},
	["WARLOCK"] ={[1]="痛苦",[2]="恶魔学识",[3]="毁灭"},
	["WARRIOR"] ={[1]="武器",[2]="狂怒",[3]="防护"},
};
----
local tianfuID={}
local tianfuID_classic = {
	["DRUID"]={		
		[1]={
			{{16814, 16815, 16816, 16817, 16818},{16689},{17245, 17247, 17248, 17249},nil},
			{{ 16918, 16919, 16920},{ 16821, 16822, 16823, 16824, 16825}, { 16902, 16903, 16904, 16905, 16906, },{ 16833, 16834, 16835}},
			{{ 16836, 16839, 16840},nil,{ 16864}, {16819, 16820}},
			{nil,{ 16909, 16910, 16911, 16912, 16913, },{ 16850, 16923, 16924, 16925, 16926, },nil},
			{nil, { 16880},{ 16845, 16846, 16847},nil},
			{nil,{ 16896, 16897, 16899, 16900, 16901 },nil,nil},
			{nil, { 24858},nil,nil},
		},
		[2]={
			{nil, { 16934, 16935, 16936, 16937, 16938, },{ 16858, 16859, 16860, 16861, 16862, },nil},
			{{ 16947, 16948, 16949, 16950, 16951, },{ 16940, 16941},{ 16929, 16930, 16931, 16932, 16933, },nil},
			{{ 17002, 24866}, { 16979},{ 16942, 16943, 16944},nil},
			{{ 16966, 16968,},{ 16972, 16974, 16975,}, { 16952, 16954 },{ 16958, 16961}},
			{ { 16998, 16999,},{ 16857,},nil,nil},
			{nil,{ 17003, 17004, 17005, 17006, 24894,},nil,nil},
			{nil,{ 17007},nil,nil},
		},
		[3]={
			{nil,{ 17050, 17051, 17053, 17054, 17055, },{ 17056, 17058, 17059, 17060, 17061, },nil},
			{ { 17069, 17070, 17071, 17072, 17073, },{ 17063, 17065, 17066, 17067, 17068, },{ 17079, 17082,},nil},
			{nil,{ 17106, 17107, 17108, },{5570},{ 17118, 17119, 17120, 17121, 17122, }},
			{nil,{ 24968, 24969, 24970, 24971, 24972, },nil,{ 17111, 17112, 17113}},
			{{ 17116},nil,{ 17104, 24943, 24944, 24945, 24946, },{ 17123, 17124,}},
			{nil,nil,{ 17074, 17075, 17076, 17077, 17078, },nil},
			{nil,{ 18562},nil,nil},
		},
	},
	["HUNTER"]={
		[1]={
			{nil,{ 19552, 19553, 19554, 19555, 19556, },{ 19583, 19584, 19585, 19586, 19587, },nil},
			{{ 19557, 19558, },{ 19549, 19550, 19551, 24386, 24387, },{ 19609, 19610, 19612 },{ 24443, 19575 }},
			{{ 19559, 19560,},{ 19596},{ 19616, 19617, 19618, 19619, 19620, },nil},
			{nil,{ 19572, 19573 },{ 19598, 19599, 19600, 19601, 19602, },nil},
			{{ 19578, 20895},{ 19577},nil,{ 19590, 19592 }},
			{nil,nil,{ 19621, 19622, 19623, 19624, 19625, },nil},
			{nil,{ 19574 },nil,nil},
		},
		[2]={
			{nil,{ 19407, 19412, 19413, 19414, 19415, },{ 19416, 19417, 19418, 19419, 19420, },nil},
			{nil,{ 19421, 19422, 19423, 19424, 19425, },{ 19426, 19427, 19429, 19430, 19431, },nil},
			{{ 19434,},{ 19454, 19455, 19456, 19457, 19458, },nil,{ 19498, 19499, 19500}},
			{nil,{ 19464, 19465, 19466, 19467, 19468, },{ 19485, 19487, 19488, 19489, 19490, },nil},
			{{ 19503 },{ 19461, 19462, 24691},{ 19491, 19493, 19494},nil},
			{nil,nil,{ 19507, 19508, 19509, 19510, 19511, },nil},
			{nil,{ 19506},nil,nil},
		},
		[3]={
			{{ 24293, 24294, 24295,},{ 19151, 19152, 19153,},{ 19295, 19297, 19298, 19301, 19300,},nil},
			{{ 19184, 19387, 19388, 19389, 19390, },{ 19159, 19160,},{ 19228, 19232, 19233, 19234, 19235, },nil},
			{{ 19239, 19245, },{ 19255, 19256, 19257, 19258, 19259, },{ 19263, },nil},
			{{ 19376, 19377, },{ 19290, 19294, 24283,},nil,{ 19286, 19287,}},
			{nil,{ 19370, 19371, 19373, },{ 19306 },nil},
			{nil,nil,{ 19168, 19180, 19181, 24296, 24297, },nil},
			{nil,{ 19386, },nil,nil},
		},
	},
	["MAGE"]={
		[1]={
			{{ 11210, 12592,},{ 11222, 12839, 12840, 12841, 12842, },{ 11237, 12463, 12464, 16769, 16770, },nil},
			{{  6057,  6085, },{ 29441, 29444, 29445, 29446, 29447, },{ 11213, 12574, 12575, 12576, 12577, },nil},
			{{ 11247, 12606, },{ 11242, 12467, 12469, },{ 28574, },nil},
			{{ 11252, 12605, },{ 11255, 12598, },nil,{ 18462, 18463, 18464,}},
			{nil,{ 12043, },{ 11232, 12500, 12501, 12502, 12503, },nil},
			{nil,{ 15058, 15059, 15060, },nil,nil},
			{nil,{ 12042, },nil,nil},
		},
		[2]={
			{nil,{11069, 12338, 12339, 12340, 12341, },{11103, 12357, 12358, 12359, 12360, },nil},
			{{11119, 11120, 12846, 12847, 12848, },{11100, 12353, },{11078, 11080, 12342, },nil},
			{{18459, 18460, },{11108, 12349, 12350, },{11366, },{11083, 12351, }},
			{{11095, 12872, 12873, },{11094, 13043, },nil,{29074, 29075, 29076, }},
			{nil,{11115, 11367, 11368, },{11113, },nil},
			{nil,nil,{11124, 12378, 12398, 12399, 12400, },nil},
			{nil,{11129, },nil,nil},
		},
		[3]={
			{{11189, 28332,} ,{11070, 12473, 16763, 16765, 16766,},{29438, 29439, 29440,},nil},
			{{11207, 12672, 15047, 15052, 15053,},{11071, 12496, 12497,},{11165, 12475,},{11175, 12569, 12571,}},
			{{11151, 12952, 12953,},{12472, },nil,{11185, 12487, 12488,}},
			{{16757, 16758,},{11160, 12518, 12519,},{11170, 12982, 12983, 12984, 12985,},nil},
			{nil,{11958, } ,{11190, 12489, 12490,},nil},
			{nil,nil,{11180, 28592, 28593, 28594, 28595,},nil},
			{nil,{11426, },nil,nil},
		},
	},
	["PALADIN"]={
		[1]={	    
			{nil,{20262, 20263, 20264, 20265, 20266,},{20257, 20258, 20259, 20260, 20261,},nil},
			{nil,{20205, 20206, 20207, 20209, 20208,},{20224, 20225, 20330, 20331, 20332,},nil},
			{{20237, 20238, 20239,},{26573,},{20234, 20235,},{ 9453, 25836,}},
			{nil,{20210, 20212, 20213, 20214, 20215,},{20244, 20245,},nil},
			{nil,{20216,},{20359, 20360, 20361,},nil},
			{nil,nil,{ 5923,  5924,  5925,  5926, 25829,},nil},
			{nil,{20473,},nil,nil},
		},
		[2]={
			{nil,{20138, 20139, 20140, 20141, 20142,},{20127, 20130, 20135, 20136, 20137,},nil},
			{{20189, 20192, 20193,},{20174, 20175,},nil,{20143, 20144, 20145, 20146, 20147,}},
			{{20217,},{20468, 20469, 20470,},{20148, 20149, 20150,},{20096, 20097, 20098, 20099, 20100,}},
			{nil,{20487, 20488, 20489,},{20254, 20255, 20256,},nil},
			{nil,{20911,},{20177, 20179, 20181, 20180, 20182,},nil},
			{nil,nil,{20196, 20197, 20198, 20199, 20200,},nil},
			{nil,{20925,},nil,nil},
		},
		[3]={	
			{nil,{20042, 20045, 20046, 20047, 20048,},{20101, 20102, 20103, 20104, 20105,},nil},
			{{25956, 25957,},{20335, 20336, 20337,},{20060, 20061, 20062, 20063, 20064,},nil},
			{{ 9452, 26016, 26021,},{20117, 20118, 20119, 20120, 20121,},{20375,},{26022, 26023,}},
			{{ 9799, 25988,},nil,{20091, 20092,},nil},
			{{20111, 20112, 20113,},nil,{20218,},nil},
			{nil,{20049, 20056, 20057, 20058, 20059,},nil,nil},
			{nil,{20066,},nil,nil},
		},
	},
	["PRIEST"]={
		[1]={
			{nil,{14522,14788,14789,14790,14791},{14524,14525,14526,14527,14528},nil},
			{{14523,14784,14785,14786,14787},{14749,14767},{14748,14768,14769},{14531,14774}},
			{nil,{14751},{14521,14776,14777},nil},
			{{14747,14770,14771},{14520,14780,14781,14782,14783},nil,{14750,14772}},
			{nil,{18551,18552,18553,18554,18555},{14752},nil},
			{nil,nil,{18544,18547,18548,18549,18550},nil},
			{nil,{10060},nil,nil},
		},
		[2]={
			{{14913,15012},{14908,15020,17191},{14889,15008,15009,15010,15011},nil},
			{nil,{27900,27901,27902,27903,27904},{18530,18531,18533,18534,18535},nil},
			{{15237},{27811,27815,27816},nil,{14892,15362,15363}},
			{{27789,27790},{14912,15013,15014},{14909,15017},nil},
			{{14911,15018},{20711},{14901,15028,15029,15030,15031},nil},
			{nil,nil,{14898,15349,15354,15355,15356},nil},
			{nil,{724},nil,nil},
		},
		[3]={
			{nil,{15270,15335,15336,15337,15338},{15268,15323,15324,15325,15326},nil},
			{{15318,15272,15320},{15275,15317},{15260,15327,15328,15329,15330},nil},
			{{15392,15448},{15273,15312,15313,15314,15316},{15407},nil},
			{nil,{15274,15311},{17322,17323,17325},{15257,15331,15332,15333,15334}},
			{{15487},{15286},{27839,27840},nil},
			{nil,nil,{15259,15307,15308,15309,15310},nil},
			{nil,{15473},nil,nil},
		},
	},
	["ROGUE"]={
		[1]={			
			{{14162, 14163, 14164,},{14144, 14148,},{14138, 14139, 14140, 14141, 14142},nil},
			{{14156, 14160, 14161,},{14158, 14159,},nil,{14165, 14166, 14167,}},
			{{14179,},{14168, 14169,},{14128, 14132, 14135, 14136, 14137},nil},
			{nil,{16513, 16514, 16515, 16719, 16720},{14113, 14114, 14115, 14116, 14117},nil},
			{nil,{14177,},{14174, 14175, 14176,},nil},
			{nil,{14186, 14190, 14193, 14194, 14195},nil,nil},
			{nil,{14983,},nil,nil},
		},
		[2]={		
			{{13741, 13793, 13792,},{13732, 13863,},{13712, 13788, 13789, 13790, 13791},nil},
			{{13733, 13865, 13866,},{13713, 13853, 13854, 13855, 13856},{13705, 13832, 13843, 13844, 13845},nil},
			{{13742, 13872,},{14251,},nil,{13743, 13875,}},
			{{13754, 13867,},{13706, 13804, 13805, 13806, 13807} ,{13715, 13848, 13849, 13851, 13852},nil},
			{{13709, 13800, 13801, 13802, 13803} ,{13877,},{13960, 13961, 13962, 13963, 13964},{13707, 13966, 13967, 13968, 13969}},
			{nil,{30919, 30920,},{18427, 18428, 18429,},nil},
			{nil,{13750,},nil,nil},
		},
		[3]={			
			{nil,{13958, 13970, 13971, 13972, 13973},{14057, 14072, 14073, 14074, 14075},nil},
			{{30892, 30893,},{13981, 14066,},{13975, 14062, 14063, 14064, 14065},nil},
			{{13976, 13979, 13980,},{14278,},{14079, 14080, 14081,},nil},
			{{13983, 14070, 14071,},{14076, 14094, 14095,} ,{14171, 14172, 14173,},nil},
			{{30894, 30895,} ,{14185,},{14082, 14083,},{16511,}},
			{nil,nil,{30902, 30903, 30904, 30905, 30906},nil},
			{nil,{14183,},nil,nil},
		},
	},
	["SHAMAN"]={
		[1]={			
			{nil,{16039, 16109, 16110, 16111, 16112,},{16035, 16105, 16106, 16107, 16108,},nil},
			{{16043, 16130,},{28996, 28997, 28998,},{16038, 16160, 16161,},nil},
			{{16164,},{16040, 16113, 16114, 16115, 16116,},{16041, 16117, 16118, 16119, 16120,},nil},
			{{16086, 16544,},{29062, 29064, 29065,},nil,{30160, 29179, 29180,}},
			{{28999, 29000,},{16089,},nil,nil},
			{nil,nil,{16578, 16579, 16580, 16581, 16582,},nil},
			{nil,{16166,},nil,nil},
		},
		[2]={		
			{nil,{17485, 17486, 17487, 17488, 17489,},{16253, 16298, 16299, 16300, 16301,} ,nil},
			{{16258, 16293,},{16255, 16302, 16303, 16304, 16305,},{16262, 16287,},{16261, 16290, 16291,}},
			{{16259, 16295,},nil,{16269,},{16254, 16271, 16272, 16273, 16274,}},
			{nil,{16256, 16281, 16282, 16283, 16284,},{16252, 16306, 16307, 16308, 16309,},nil},
			{{29192, 29193,},{16266, 29079, 29080,},{16268,},nil},
			{nil,nil,{29082, 29084, 29086, 29087, 29088,},nil},
			{nil,{17364,},nil,nil},
		},
		[3]={
			{nil,{16182, 16226, 16227, 16228, 16229,},{16179, 16214, 16215, 16216, 16217,},nil},
			{{16184, 16209,} ,{16176, 16235, 16240,},{16173, 16222, 16223, 16224, 16225,},nil},
			{{16180, 16196, 16198,},{16181, 16230, 16232, 16233, 16234,} ,{16189,},{29187, 29189, 29191,}},
			{nil,{16187, 16205, 16206, 16207, 16208,},{16194, 16218, 16219, 16220, 16221,},nil},
			{{29206, 29205, 29202,} ,nil,{16188,},nil},
			{nil,nil,{16178, 16210, 16211, 16212, 16213,},nil},
			{nil,{16190,},nil,nil},
		},
	},
	["WARLOCK"]={
		[1]={			
			{nil,{18174, 18175, 18176, 18177, 18178,},{17810, 17811, 17812, 17813, 17814,},nil},
			{{18179, 18180, 18181,},{18213, 18372,},{18182, 18183,},{17804, 17805, 17806, 17807, 17808,}},
			{{18827, 18829, 18830,} ,{17783, 17784, 17785, 17786, 17787,},{18288,},nil},
			{{18218, 18219,} ,{18094, 18095,} ,nil,{17864, 18393,}},
			{nil,{18265,},{18223,},{18310, 18311, 18312, 18313,}},
			{nil,{18271, 18272, 18273, 18274, 18275,},nil,nil},
			{nil,{18220,},nil,nil},
		},
		[2]={		
			{{18692, 18693,},{18694, 18695, 18696,},{18697, 18698, 18699, 18700, 18701,},nil},
			{{18703, 18704,},{18705, 18706, 18707,},{18731, 18743, 18744, 18745, 18746,},nil},
			{{18754, 18755, 18756,},{18708,},{18748, 18749, 18750, 18751, 18752,},nil},
			{nil,{18709, 18710,},{18769, 18770, 18771, 18772, 18773,},nil},
			{{18821, 18822, 18823, 18824, 18825,},{18788,},nil,{18767, 18768,}},
			{nil,nil,{23785, 23822, 23823, 23824, 23825,} ,nil},
			{nil,{19028,},{18774, 18775,},nil},
		},
		[3]={			
			{nil,{17793, 17796, 17801, 17802, 17803,},{17778, 17779, 17780, 17781, 17782,},nil},
			{nil,{17788, 17789, 17790, 17791, 17792,},{18119, 18120, 18121, 18122, 18123,},nil},
			{{18126, 18127,},{18128, 18129,},{18130, 18131, 18132, 18133, 18134,},{17877,}},
			{{18135, 18136,},{17917, 17918,},nil,{17927, 17929, 17930, 17931, 17932,}},
			{{18096, 18073,},{17815, 17833, 17834, 17835, 17836,},{17959,},nil},
			{nil,nil,{17954, 17955, 17956, 17957, 17958,},nil},
			{nil,{17962,},nil,nil},
		},
	},
	["WARRIOR"]={
		[1]={			
			{{12282, 12663, 12664,},{16462, 16463, 16464, 16465, 16466,},{12286, 12658, 12659,},nil},
			{{12285, 12697,},{12295, 12676, 12677, 12678, 12679,},nil,{12287, 12665, 12666,}},
			{{12290, 12963,},{12296,},{12834, 12849, 12867,},nil},
			{nil,{12163, 12711, 12712, 12713, 12714,},{16493, 16494,},nil},
			{{12700, 12781, 12783, 12784, 12785,},{12292,},{12284, 12701, 12702, 12703, 12704,},{12281, 12812, 12813, 12814, 12815,}},
			{{12165, 12830, 12831, 12832, 12833,},nil,{12289, 12668, 23695,},nil},
			{nil,{12294,},nil,nil},
		},
		[2]={
			{nil,{12321, 12835, 12836, 12837, 12838,},{12320, 12852, 12853, 12855, 12856,},nil},
			{nil,{12324, 12876, 12877, 12878, 12879,},{12322, 12999, 13000, 13001, 13002,},nil},
			{{12329, 12950, 20496,},{12323,},{16487, 16489, 16492,} ,{12318, 12857, 12858, 12860, 12861,}},
			{{23584, 23585, 23586, 23587, 23588,},{20502, 20503,},{12317, 13045, 13046, 13047, 13048,},nil},
			{{12862, 12330, 20497, 20498, 20499,},{12328,},nil,{20504, 20505,}},
			{{20500, 20501,},nil,{12319, 12971, 12972, 12973, 12974,},nil},
			{nil,{23881,},nil,nil},
		},
		[3]={			 
			{nil,{12298, 12724, 12725, 12726, 12727,},{12297, 12750, 12751, 12752, 12753,} ,nil},
			{{12301, 12818,},nil,{12299, 12761, 12762, 12763, 12764,},{12300, 12959, 12960, 12961, 12962,}},
			{{12975,},{12945, 12307, 12944,},{12797, 12799, 12800,},{12303, 12788, 12789, 12791, 12792,}},
			{{12308, 12810, 12811,},{12313, 12804, 12807,},{12302, 12765,},nil},
			{{12312, 12803,},{12809,},{12311, 12958,},nil},
			{nil,nil,{16538, 16539, 16540, 16541, 16542,},nil},
			{nil,{23922,},nil,nil},
		},
	},
}
local tianfuID_TBC = {
	["DRUID"]={		
		[1]={
			{{16814,16815,16816,16817,16818,},{16689},{17245,17247,17248,17249},nil},
			{{16918,16919,16920},{35363,35364},{16821,16822},nil},
			{{16836,16839,16840},nil,{5570},{16819,16820}},
			{nil,{16909,16910,16911,16912,16913},{16850,16923,16924},nil},
			{{33589,33590,33591},{16880},{16845,16846,16847},nil},
			{nil,{16896,16897,16899,16900,16901},{33592,33596},nil},
			{{33597,33599,33956},{24858},{33600,33601,33602},nil},
			{nil,{33603,33604,33605,33606,33607},nil,nil},
			{nil,{33831},nil,nil},
		},
		[2]={
			{nil,{16934,16935,16936,16937,16938},{16858,16859,16860,16861,16862},nil},
			{{16947,16948,16949},{16940,16941},{16929,16930,16931},nil},
			{{17002,24866},{16979},{16942,16943,16944},nil},
			{{16966,16968},{16972,16974,16975},{37116,37117},nil},
			{{16998,16999},nil,{16857},{33872,33873}},
			{nil,{17003,17004,17005,17006,24894,},{33853,33855,33856},nil},
			{{33851,33852,33957},{17007},{34297,34300},nil},
			{nil,nil,{33859,33866,33867,33868,33869,},nil},
			{nil,{33917},nil,nil},
		},
		[3]={
			{nil,{17050,17051,17053,17054,17055},{17056,17058,17059,17060,17061},nil},
			{{17069,17070,17071,17072,17073},{17063,17065,17066,17067,17068},{16833,16834,16835},nil},
			{{17106,17107,17108},{17118,17119,17120,17121,17122},{16864},nil},
			{nil,{24968,24969,24970,24971,24972},{17111,17112,17113},nil},
			{{17116},{17104,24943,24944,24945,24946,},nil,{17123,17124}},
			{{33879,33880},nil,{17074,17075,17076,17077,17078,},nil},
			{{34151,34152,34153},{18562},{33881,33882,33883},nil},
			{nil,{33886,33887,33888,33889,33890},nil,nil},
			{nil,{33891},nil,nil},
		},
	},
	["HUNTER"]={
		[1]={
			{nil,{19552,19553,19554,19555,19556},{19583,19584,19585,19586,19587},nil},
			{{35029,35030},{19549,19550,19551},{19609,19610,19612},{24443,19575}},
			{{19559,19560},{19596},{19616,19617,19618,19619,19620},nil},
			{nil,{19572,19573},{19598,19599,19600,19601,19602},nil},
			{{19578,20895},{19577},nil,{19590,19592}},
			{{34453,34454},nil,{19621,19622,19623,19624,19625},nil},
			{{34455,34459,34460},{19574},{34462,34464,34465},nil},
			{nil,nil,{34466,34467,34468,34469,34470},nil},
			{nil,{34692},nil,nil},
		},
		[2]={
			{nil,{19407,19412,19413,19414,19415},{19426,19427,19429,19430,19431},nil},
			{nil,{19421,19422,19423,19424,19425},{19416,19417,19418,19419,19420},nil},
			{{34950,34954},{19454,19455,19456,19457,19458},{19434},{34948,34949}},
			{nil,{19464,19465,19466,19467,19468},{19485,19487,19488,19489,19490},nil},
			{{35100,35102,35103},{19503},{19461,19462,24691},nil},
			{{34475,34476},nil,nil,{19507,19508,19509,19510,19511}},
			{{34482,34483,34484},{19506},{35104,35110,35111},nil},
			{nil,{34485,34486,34487,34488,34489},nil,nil},
			{nil,{34490},nil,nil},
		},
		[3]={
			{{24293,24294,24295},{19151,19152,19153},{19498,19499,19500},{19159,19160}},
			{{19184,19387,19388},{19295,19297,19298,19301,19300},{19228,19232,19233},nil},
			{{19239,19245},{19255,19256,19257,19258,19259},{19263},nil},
			{{19376,19377},{19290,19294,24283},nil,{19286,19287}},
			{{34494,34496},{19370,19371,19373},{19306},nil},
			{{34491,34492,34493},nil,{19168,19180,19181,24296,24297},nil},
			{{34497,34498,34499},{19386},{34500,34502,34503},nil},
			{nil,{34506,34507,34508,34838,34839},nil,nil},
			{nil,{23989},nil,nil},
		},
	},
	["MAGE"]={
		[1]={
			{{11210,12592},{11222,12839,12840,12841,12842},{11237,12463,12464,16769,16770},nil},
			{{6057,6085},{29441,29444,29445,29446,29447},{11213,12574,12575,12576,12577},nil},
			{{11247,12606},{11242,12467},nil,{28574}},
			{{11252,12605},{11255,12598},nil,{18462,18463,18464}},
			{{31569,31570},{12043},nil,{11232,12500,12501,12502,12503}},
			{{31574,31575},{15058,15059,15060},{31571,31572,31573},nil},
			{{31579,31582,31583},{12042},{35578,35581},nil},
			{nil,{31584,31585,31586,31587,31588},nil,nil},
			{nil,{31589},nil,nil},
		},
		[2]={
			{nil,{11069,12338,12339,12340,12341},{11103,12357,12358,12359,12360},nil},
			{{11119,11120,12846,12847,12848},{11100,12353},{11078,11080,12342},nil},
			{{18459,18460},{11108,12349,12350},{11366},{11083,12351}},
			{{11095,12872,12873},{11094,13043},nil,{29074,29075,29076}},
			{{31638,31639,31640},{11115,11367,11368},{11113},nil},
			{{31641,31642},nil,{11124,12378,12398,12399,12400},nil},
			{{34293,34295,34296},{11129},{31679,31680},nil},
			{nil,nil,{31656,31657,31658,31659,31660},nil},
			{nil,{31661},nil,nil},
		},
		[3]={
			{{11189,28332},{11070,12473,16763,16765,16766},{29438,29439,29440},nil},
			{{11207,12672,15047,15052,15053},{11071,12496,12497},{11165,12475},{11175,12569,12571}},
			{{11151,12952,12953},{12472},nil,{11185,12487,12488}},
			{{16757,16758},{11160,12518,12519},{11170,12982,12983,12984,12985},nil},
			{{31667,31668,31669},{11958},{11190,12489,12490},nil},
			{{31670,31672},nil,{11180,28592,28593,28594,28595},nil},
			{nil,{11426},{31674,31675,31676,31677,31678},nil},
			{nil,{31682,31683,31684,31685,31686},nil,nil},
			{nil,{31687},nil,nil},
		},
	},
	["PALADIN"]={
		[1]={
			{nil,{20262,20263,20264,20265,20266},{20257,20258,20259,20260,20261},nil},
			{nil,{20205,20206,20207,20209,20208},{20224,20225,20330,20331,20332},nil},
			{{20237,20238,20239},{31821},{20234,20235},{9453,25836}},
			{nil,{20210,20212,20213,20214,20215},{20244,20245},nil},
			{{31822,31823,31824},{20216},{20359,20360,20361},nil},
			{{31825,31826},nil,{5923,5924,5925,5926,25829},nil},
			{{31833,31835,31836},{20473},{31828,31829,31830},nil},
			{nil,{31837,31838,31839,31840,31841},nil,nil},
			{nil,{31842},nil,nil},
		},
		[2]={
			{nil,{20138,20139,20140,20141,20142},{20127,20130,20135,20136,20137},nil},
			{{20189,20192,20193},{20174,20175},nil,{20143,20144,20145,20146,20147}},
			{{20217},{20468,20469,20470},{20148,20149,20150},{20096,20097,20098,20099,20100}},
			{{31844,31845},{20487,20488,20489},{20254,20255,20256},nil},
			{{31846,31847},{20911},{20177,20179,20181,20180,20182},nil},
			{{31848,31849},nil,{20196,20197,20198,20199,20200},nil},
			{{41021,41026},{20925},{31850,31851,31852,31853,31854},nil},
			{nil,nil,{31858,31859,31860,31861,31862},nil},
			{nil,{31935},nil,nil},
		},
		[3]={
			{nil,{20042,20045,20046,20047,20048},{20101,20102,20103,20104,20105},nil},
			{{25956,25957},{20335,20336,20337},{20060,20061,20062,20063,20064},nil},
			{{9452,26016,26021},{20117,20118,20119,20120,20121},{20375},{26022,26023,44414}},
			{{9799,25988},nil,{20091,20092},{31866,31867,31868}},
			{{20111,20112,20113},nil,{20218},{31869,31870}},
			{nil,{20049,20056,20057,20058,20059},{31876,31877,31878},nil},
			{{32043,35396,35397},{20066},{31871,31872,31873},nil},
			{nil,{31879,31880,31881,31882,31883},nil,nil},
			{nil,{35395},nil,nil},
		},
	},
	["PRIEST"]={
		[1]={
			{nil,{14522,14788,14789,14790,14791},{14524,14525,14526,14527,14528},nil},
			{{14523,14784,14785,14786,14787},{14749,14767},{14748,14768,14769},{14531,14774}},
			{{33167,33171,33172},{14751},{14521,14776,14777},nil},
			{{14747,14770,14771},{14520,14780,14781,14782,14783},nil,{14750,14772}},
			{nil,{18551,18552,18553,18554,18555},{14752},{33174,33182}},
			{{33186,33190},nil,{18544,18547,18548,18549,18550},nil},
			{{45234,45243,45244},{10060},{33201,33202,33203,33204,33205}},
			{nil,{34908,34909,34910,34911,34912},nil,nil},
			{nil,{33206},nil,nil},
		},
		[2]={
			{{14913,15012},{14908,15020,17191},{14889,15008,15009,15010,15011},nil},
			{nil,{27900,27901,27902,27903,27904},{18530,18531,18533,18534,18535},nil},
			{{15237},{27811,27815,27816},nil,{14892,15362,15363}},
			{{27789,27790},{14912,15013,15014},{14909,15017},nil},
			{{14911,15018},{20711},{14901,15028,15029,15030,15031},nil},
			{{33150,33154},nil,{14898,15349,15354,15355,15356},nil},
			{{34753,34859,34860},{724},{33142,33145,33146},nil},
			{nil,{33158,33159,33160,33161,33162},nil,nil},
			{nil,{34861},nil,nil},
		},
		[3]={
			{nil,{15270,15335,15336,15337,15338},{15268,15323,15324,15325,15326},nil},
			{{15318,15272,15320},{15275,15317},{15260,15327,15328,15329,15330},nil},
			{{15392,15448},{15273,15312,15313,15314,15316},{15407},nil},
			{nil,{15274,15311},{17322,17323},{15257,15331,15332,15333,15334}},
			{{15487},{15286},{27839,27840},{33213,33214,33215}},
			{{14910,33371},nil,{15259,15307,15308,15309,15310},nil},
			{nil,{15473},{33221,33222,33223,33224,33225},nil},
			{nil,nil,{33191,33192,33193,33194,33195},nil},
			{nil,{34914},nil,nil},
		},
	},
	["ROGUE"]={
		[1]={
			{{14162,14163,14164},{14144,14148},{14138,14139,14140,14141,14142},nil},
			{{14156,14160,14161},{14158,14159},nil,{13733,13865,13866}},
			{{14179},{14168,14169},{14128,14132,14135,14136,14137},nil},
			{nil,{16513,16514,16515,16719,16720},{14113,14114,14115,14116,14117},nil},
			{{31208,31209},{14177},{14174,14175,14176},{31244,31245}},
			{nil,{14186,14190,14193,14194,14195},{31226,31227},nil},
			{nil,{14983},{31380,31382,31383,31384,31385},nil},
			{nil,nil,{31233,31239,31240,31241,31242},nil},
			{nil,{1329},nil,nil},
		},
		[2]={
			{{13741,13793,13792},{13732,13863},{13712,13788,13789,13790,13791},nil},
			{{14165,14166,14167},{13713,13853,13854,13855,13856},{13705,13832,13843,13844,13845},nil},
			{{13742,13872},{14251},nil,{13743,13875}},
			{{13754,13867},{13706,13804,13805,13806,13807},{13715,13848,13849,13851,13852},nil},
			{{13709,13800,13801,13802,13803},{13877},{13960,13961,13962,13963,13964},{13707,13966,13967,13968,13969}},
			{{31124,31126},{30919,30920},{18427,18428,18429},nil},
			{{31122,31123},{13750},{31130,31131},nil},
			{nil,nil,{35541,35550,35551,35552,35553},nil},
			{nil,{32601},nil,nil},
		},
		[3]={
			{nil,{13958,13970,13971,13972,13973},{14057,14072,14073,14074,14075},nil},
			{{30892,30893},{14076,14094},{13975,14062,14063,14064,14065},nil},
			{{13976,13979,13980},{14278},{14079,14080,14081},nil},
			{{13983,14070,14071},{13981,14066},{14171,14172,14173},nil},
			{{30894,30895},{14185},{14082,14083},{16511}},
			{{31221,31222,31223},nil,{30902,30903,30904,30905,30906},nil},
			{{31211,31212,31213},{14183},{31228,31229,31230},nil},
			{nil,{31216,31217,31218,31219,31220},nil,nil},
			{nil,{36554},nil,nil},	
		},
	},
	["SHAMAN"]={
		[1]={
			{nil,{16039,16109,16110,16111,16112},{16035,16105,16106,16107,16108},nil},
			{{16043,16130},{28996,28997,28998},{16038,16160,16161},nil},
			{{16164},{16040,16113,16114,16115,16116},{16041,16117,16118,16119,16120},nil},
			{{16086,16544},{29062,29064,29065},nil,{30160,29179,29180}},
			{{28999,29000},{16089},nil,{30664,30665,30666,30667,30668}},
			{{30672,30673,30674},nil,{16578,16579,16580,16581,16582},nil},
			{nil,{16166},{30669,30670,30671},nil},
			{nil,{30675,30678,30679,30680,30681},nil,nil},
			{nil,{30706},nil,nil},
		},
		[2]={
			{nil,{17485,17486,17487,17488,17489},{16253,16298,16299,16300,16301},nil},
			{{16258,16293},{16255,16302,16303,16304,16305},{16262,16287},{16261,16290,16291}},
			{{16259,16295},nil,{43338},{16254,16271,16272,16273,16274}},
			{nil,{16256,16281,16282,16283,16284},{16252,16306,16307,16308,16309},nil},
			{{29192,29193},{16268},{16266,29079,29080},nil},
			{{30812,30813,30814},nil,nil,{29082,29084,29086,29087,29088}},
			{{30816,30818,30819},{30798},{17364},nil},
			{nil,{30802,30808,30809,30810,30811},nil,nil},
			{nil,{30823},nil,nil},
		},
		[3]={
			{nil,{16182,16226,16227,16228,16229},{16179,16214,16215,16216,16217},nil},
			{{16184,16209},{16176,16235,16240},{16173,16222,16223,16224,16225},nil},
			{{16180,16196,16198},{16181,16230,16232,16233,16234},{16189},{29187,29189,29191}},
			{nil,{16187,16205,16206,16207,16208},{16194,16218,16219,16220,16221},nil},
			{{29206,29205,29202},nil,{16188},{30864,30865,30866}},
			{nil,nil,{16178,16210,16211,16212,16213},nil},
			{nil,{16190},{30881,30883,30884,30885,30886},nil},
			{nil,{30867,30868,30869},{30872,30873},nil},
			{nil,{974},nil,nil},
		},
	},
	["WARLOCK"]={
		[1]={
			{nil,{18174,18175,18176,18177,18178},{17810,17811,17812,17813,17814},nil},
			{{18179,18180},{18213,18372},{18182,18183},{17804,17805}},
			{{18827,18829},{17783,17784,17785,17786,17787},{18288},nil},
			{{18218,18219},{18094,18095},nil,{32381,32382,32383}},
			{{32385,32387,32392,32393,32394},{18265},{18223},nil},
			{nil,{18271,18272,18273,18274,18275},nil,nil},
			{nil,{30060,30061,30062,30063,30064},{18220},nil},
			{{30054,30057},nil,{32477,32483,32484},nil},
			{nil,{30108},nil,nil},
		},
		[2]={
			{{18692,18693},{18694,18695,18696},{18697,18698,18699,18700,18701},nil},
			{{18703,18704},{18705,18706,18707},{18731,18743,18744},nil},
			{{18754,18755,18756},{18708},{18748,18749,18750},{30143,30144,30145}},
			{nil,{18709,18710},{18769,18770,18771,18772,18773},nil},
			{{18821,18822},{18788},nil,{18767,18768}},
			{{30326,30327,30328},nil,{23785,23822,23823,23824,23825},nil},
			{{30319,30320,30321},{19028},{35691,35692,35693},nil},
			{nil,{30242,30245,30246,30247,30248},nil,nil},
			{nil,{30146},nil,nil},
		},
		[3]={
			{nil,{17793,17796,17801,17802,17803},{17778,17779,17780,17781,17782},nil},
			{nil,{17788,17789,17790,17791,17792},{18119,18120,18121,18122,18123},nil},
			{{18126,18127},{18128,18129},{18130,18131,18132,18133,18134},{17877}},
			{{18135,18136},{17917,17918},nil,{17927,17929,17930}},
			{{18096,18073},{17815,17833,17834,17835,17836},{17959},nil},
			{{30299,30301,30302},nil,{17954,17955,17956,17957,17958},nil},
			{{34935,34938,34939},{17962},{30293,30295,30296},nil},
			{nil,{30288,30289,30290,30291,30292},nil,nil},
			{nil,{30283},nil,nil},
		},
	},
	["WARRIOR"]={
		[1]={
			{{12282,12663,12664},{16462,16463,16464,16465,16466},{12286,12658,12659},nil},
			{{12285,12697},{12300,12959,12960,12961,12962},{12287,12665,12666},nil},
			{{12290,12963},{12296},{12834,12849,12867},nil},
			{nil,{12163,12711,12712,12713,12714},{16493,16494},nil},
			{{12700,12781,12783,12784,12785},{12292},{12284,12701,12702,12703,12704},{12281,12812,12813,12814,12815}},
			{{29888,29889},nil,{12289,12668,23695},{29723,29724,29725}},
			{{29836,29859},{12294},{29834,29838},nil},
			{nil,{35446,35448,35449,35450,35451},nil,nil},
			{nil,{29623},nil,nil},
		},
		[2]={
			{nil,{12321,12835,12836,12837,12838},{12320,12852,12853,12855,12856},nil},
			{nil,{12324,12876,12877,12878,12879},{12322,12999,13000,13001,13002},nil},
			{{12329,12950,20496},{12323},{16487,16489,16492},{12318,12857,12858,12860,12861}},
			{{23584,23585,23586,23587,23588},{20502,20503},{12317,13045,13046,13047,13048},nil},
			{{12862,12330},{12328},nil,{20504,20505}},
			{{20500,20501},nil,{12319,12971,12972,12973,12974},nil},
			{{29590,29591,29592},{23881},{29721,29776},nil},
			{nil,{29759,29760,29761,29762,29763},nil,nil},
			{nil,{29801},nil,nil},
		},
		[3]={
			{{12301,12818},{12295,12676,12677},{12297,12750,12751,12752,12753},nil},
			{nil,{12298,12724,12725,12726,12727},{12299,12761,12762,12763,12764},nil},
			{{12975},{12945},{12797,12799,12800},{12303,12788,12789}},
			{{12308,12810,12811},{12313,12804,12807},{12302,12765},nil},
			{{12312,12803},{12809},{12311,12958},nil},
			{{29598,29599,29600},nil,{16538,16539,16540,16541,16542},nil},
			{{29593,29594,29595},{23922},{29787,29790,29792},nil},
			{nil,{29140,29143,29144,29145,29146},nil,nil},
			{nil,{20243},nil,nil},
		},
	},
}
local tianfuID_WLK = {
	["DEATHKNIGHT"]={
		[1]={
			{{48979,49483},{48997,49490,49491},{49182,49500,49501,55225,55226},nil},
			{{48978,49390,49391,49392,49393},{49004,49508,49509},{55107,55108},nil},
			{{48982},{48987,49477,49478,49479,49480},{49467,50033,50034},nil},
			{{48985,49488,49489},nil,{49145,49495,49497},{49015,50154,55136}},
			{{48977,49394,49395},nil,{49006,49526,50029},{49005}},
			{nil,{48988,49503,49504},{53137,53138},nil},
			{{49027,49542,49543},{49016},{50365,50371},nil},
			{{62905,62908},{49018,49529,49530},{55233},nil},
			{{49189,50149,50150},{55050},{49023,49533,49534},nil},
			{nil,{61154,61155,61156,61157,61158},nil,nil},
			{nil,{49028},nil,nil},
		},
		[2]={
			{{49175,50031,51456},{49455,50147},{49042,49786,49787,49788,49789},nil},
			{nil,{55061,55062},{49140,49661,49662,49663,49664},{49226,50137,50138}},
			{{50880,50884,50885,50886,50887},{49039},{51468,51472,51473},nil},
			{nil,{51123,51127,51128,51129,51130},{49149,50115,},{49137,49657}},
			{nil,{49186,51108,51109},{49471,49790,49791},{49796}},
			{{55610},{49024,49538},{49188,56822,59057},nil},
			{{50040,50041,50043},{49203},{50384,50385},nil},
			{{65661,66191,66192},{54639,54638,54637},{51271},nil},
			{{49200,50151,50152},{49142},{50187,50190,50191},nil},
			{nil,{49202,50127,50128,50129,50130},nil,nil},
			{nil,{49184},nil,nil},
		},
		[3]={
			{{51745,51746},{48962,49567,49568},{55129,55130,55131,55132,55133},nil},
			{{49036,49562},{48963,49564,49565},{49588,49589},{48965,49571,49572}},
			{{49013,55236,55237},{51459,51462,51463,51464,51465},{49158},nil},
			{nil,{49146,51267},{49219,49627,49628},{55620,55623}},
			{{49194},{49220,49633,49635,49636,49638},{49223,49599},nil},
			{{55666,55667},{49224,49610,49611},{49208,56834,56835},{52143}},
			{{66799,66814,66815,66816,66817},{51052},{50391,50392},{63560}},
			{nil,{49032,49631,49632},{49222},nil},
			{{49217,49654,49655},{51099,51160,51161},{55090},nil},
			{nil,{50117,50118,50119,50120,50121},nil,nil},
			{nil,{49206},nil,nil},
		},
	},
	["DRUID"]={		
		[1]={
			{nil,{16814,16815,16816,16817,16818,},{57810,57811,57812,57813,57814},nil},
			{{16845,16846,16847},{35363,35364},nil,{16821,16822}},
			{{16836,16839,16840},{16880,61345,61346},{57865},{16819,16820}},
			{nil,{16909,16910,16911,16912,16913},{16850,16923,16924},nil},
			{{33589,33590,33591},{5570},{57849,57850,57851},nil},
			{{33597,33599,33956},{16896,16897,16899},{33592,33596},nil},
			{nil,{24858},{48384,48395,48396},{33600,33601,33602}},
			{{48389,48392,48393},nil,{33603,33604,33605,33606,33607},nil},
			{{48516,48521,48525},{50516},{33831},{48488,48514}},
			{nil,{48506,48510,48511},nil,nil},
			{nil,{48505},nil,nil},
		},
		[2]={
			{nil,{16934,16935,16936,16937,16938},{16858,16859,16860,16861,16862},nil},
			{{16947,16948,16949},{16998,16999},{16929,16930,16931},nil},
			{{17002,24866},{61336},{16942,16943,16944},nil},
			{{16966,16968},{16972,16974,16975},{37116,37117},{48409,48410}},
			{{16940,16941},nil,{49377},{33872,33873}},
			{{57878,57880,57881},{17003,17004,17005,17006,24894},{33853,33855,33856},nil},
			{nil,{17007},{34297,34300},{33851,33852,33957}},
			{{57873,57876,57877},nil,{33859,33866,33867},{48483,48484,48485}},
			{{48492,48494,48495},{33917},{48532,48489,48491},nil},
			{nil,{48432,48433,48434,51268,51269},{63503},nil},
			{nil,{50334},nil,nil},
		},
		[3]={
			{{17050,17051},{17063,17065,17066},{17056,17058,17059,17060,17061},nil},
			{{17069,17070,17071,17072,17073},{17118,17119,17120},{16833,16834,16835},nil},
			{{17106,17107,17108},{16864},{48411,48412},nil},
			{nil,{24968,24969,24970,24971,24972},{17111,17112,17113},nil},
			{{17116},{17104,24943,24944,24945,24946,},nil,{17123,17124}},
			{{33879,33880},nil,{17074,17075,17076,17077,17078,},nil},
			{{34151,34152,34153},{18562},{33881,33882,33883},nil},
			{nil,{33886,33887,33888,33889,33890},{48496,48499,48500},nil},
			{{48539,48544,48545},{65139},{48535,48536,48537},nil},
			{{63410,63411},nil,{51179,51180,51181,51182,51183},nil},
			{nil,{48438},nil,nil},
		},
	},
	["HUNTER"]={
		[1]={
			{nil,{19552,19553,19554,19555,19556},{19583,19584,19585,19586,19587},nil},
			{{35029,35030},{19549,19550,19551},{19609,19610,19612},{24443,19575}},
			{{19559,19560},{53265},{19616,19617,19618,19619,19620},nil},
			{nil,{19572,19573},{19598,19599,19600,19601,19602},nil},
			{{19578,20895},{19577},nil,{19590,19592}},
			{{34453,34454},nil,{19621,19622,19623,19624,19625},nil},
			{{34455,34459,34460},{19574},{34462,34464,34465},nil},
			{{53252,53253},nil,{34466,34467,34468,34469,34470},nil},
			{{53262,53263,53264},{34692},{53256,53259,53260},nil},
			{nil,{56314,56315,56316,56317,56318},nil,nil},
			{nil,{53270},nil,nil},
		},
		[2]={
			{{19407,19412},{53620,53621,53622},{19426,19427,19429,19430,19431},nil},
			{{34482,34483,34484},{19421,19422,19423},{19485,19487,19488,19489,19490},nil},
			{{34950,34954},{19454,19455,19456},{19434},{34948,34949}},
			{nil,{19464,19465,19466},{19416,19417,19418,19419,19420},nil},
			{{35100,35102,35103},{23989},{19461,19462,24691},nil},
			{{34475,34476},nil,nil,{19507,19508,19509}},
			{{53234,53237,53238},{19506},{35104,35110,35111},nil},
			{nil,{34485,34486,34487,34488,34489},{53228,53232},nil},
			{{53215,53216,53217},{34490},{53221,53222,53224},nil},
			{nil,{53241,53243,53244,53245,53246},nil,nil},
			{nil,{53209},nil,nil},
		},
		[3]={
			{{52783,52785,52786,52787,52788},{19498,19499,19500},{19159,19160},nil},
			{{19290,19294,24283},{19184,19387,19388},{19376,63457,63458},{34494,34496}},
			{{19255,19256,19257,19258,19259},{19503},{19295,19297,19298},{19286,19287}},
			{nil,{56333,56336,56337},nil,{56342,56343,56344}},
			{{56339,56340,56341},{19370,19371,19373},{19306},nil},
			{{19168,19180,19181,24296,24297},nil,{34491,34492,34493},nil},
			{{34500,34502,34503},{19386},{34497,34498,34499},nil},
			{{34506,34507,34508,34838,34839},{53295,53296,53297},nil,nil},
			{{53298,53299},{3674},nil,{53302,53303,53304}},
			{nil,nil,{53290,53291,53292},nil},
			{nil,{53301},nil,nil},
		},
	},
	["MAGE"]={
		[1]={
			{{11210,12592},{11222,12839,12840},{11237,12463,12464,16769,16770},nil},
			{{28574,54658,54659},{29441,29444},{11213,12574,12575,12576,12577},nil},
			{{11247,12606},{11242,12467,12469},{44397,44398,44399},{54646}},
			{{11252,12605},{11255,12598},{18462,18463,18464},{29447,55339,55340}},
			{{31569,31570},{12043},nil,{11232,12500,12501,12502,12503}},
			{{31574,31575,54354},{15058,15059,15060},{31571,31572},nil},
			{{31579,31582,31583},{12042},{44394,44395,44396},nil},
			{nil,{44378,44379},{31584,31585,31586,31587,31588},nil},
			{nil,{31589},{44404,54486,54488,54489,54490},nil},
			{nil,{44400,44402,44403},{35578,35581},nil},
			{nil,{44425},nil,nil},
		},
		[2]={
			{{11078,11080},{18459,18460,54734},{11069,12338,1233912340,12341},nil},
			{{11119,11120,12846,12847,12848},{54747,54749},{11108,12349,12350},nil},
			{{11100,12353},{11103,12357},{11366},{11083,12351}},
			{{11095,12872,12873},{11094,13043},nil,{29074,29075,29076}},
			{{31638,31639,31640},{11115,11367,11368},{11113},nil},
			{{31641,31642},nil,{11124,12378,12398,12399,12400},nil},
			{{34293,34295,34296},{11129},{31679,31680},nil},
			{{64353,64357},nil,{31656,31657,31658},nil},
			{{44442,44443},{31661},{44445,44446,44448},nil},
			{nil,{44449,44469,44470,44471,44472},nil,nil},
			{nil,{44457},nil,nil},
		},
		[3]={
			{{11071,12496,12497},{11070,12473,16763,16765,16766},{31670,31672,55094},nil},
			{{11207,12672,15047},{11189,28332},{29438,29439,29440},{11175,12569,12571}},
			{{11151,12952,12953},{12472},{11185,12487,12488},nil},
			{{16757,16758},{11160,12518,12519},{11170,12982,12983},nil},
			{nil,{11958},{11190,12489,12490},{31667,31668,31669}},
			{{55091,55092},nil,{11180,28592,28593},nil},
			{{44745,54787},{11426},{31674,31675,31676,31677,31678},nil},
			{nil,{31682,31683},{44543,44545},nil},
			{{44546,44548,44549},{31687},{44557,44560,44561},nil},
			{nil,{44566,44567,44568,44570,44571},nil,nil},
			{nil,{44572},nil,nil},
		},
	},
	["PALADIN"]={
		[1]={
			{nil,{20205,20206,20207,20209,20208},{20224,20225,20330,20331,20332},nil},
			{{20237,20238,20239},{20257,20258,20259,20260,20261},{9453,25836},nil},
			{{31821},{20210,20212,20213,20214,20215},{20234,20235},nil},
			{{20254,20255,20256},nil,{20244,20245},{53660,53661}},
			{{31822,31823},{20216},{20359,20360,20361},nil},
			{{31825,31826},nil,{5923,5924,5925,5926,25829},nil},
			{{31833,31835,31836},{20473},{31828,31829,31830},nil},
			{{53551,53552,53553},nil,{31837,31838,31839,31840,31841},nil},
			{{31842},nil,{53671,53673,54151,54154,54155},nil},
			{nil,{53569,53576},{53556,53557},nil},
			{nil,{53563},nil,nil},
		},
		[2]={
			{nil,{63646,63647,63648,63649,63650},{20262,20263,20264,20265,20266},nil},
			{{31844,31845,53519},{20174,20175},{20096,20097,20098,20099,20100},nil},
			{{64205},{20468,20469,20470},{20143,20144,20145,20146,20147},nil},
			{{53527,53530},{20487,20488},{20138,20139,20140},nil},
			{nil,{20911},{20177,20179,20181,20180,20182},nil},
			{{31848,31849},nil,{20196,20197,20198},nil},
			{{31785,33776},{20925},{31850,31851,31852},nil},
			{{20127,20130,20135},nil,{31858,31859,31860},nil},
			{{53590,53591,53592},{31935},{53583,53585},nil},
			{nil,{53709,53710,53711},{53695,53696},nil},
			{nil,{53595},nil,nil},
		},
		[3]={
			{nil,{20060,20061,20062,20063,20064},{20101,20102,20103,20104,20105},nil},
			{{25956,25957},{20335,20336,20337},{20042,20045},nil},
			{{9452,26016},{20117,20118,20119,20120,20121},{20375},{26022,26023}},
			{{9799,25988},nil,{32043,35396,35397},{31866,31867,31868}},
			{{20111,20112,20113},nil,{31869},nil},
			{nil,{20049,20056,20057},{31871,31872},nil},
			{{53486,53488},{20066},{31876,31877,31878},nil},
			{nil,{31879,31880,31881},{53375,53376},nil},
			{{53379,53484,53648},{35395},{53501,53502,53503},nil},
			{nil,{53380,53381,53382},nil,nil},
			{nil,{53385},nil,nil},
		},
	},
	["PRIEST"]={
		[1]={
			{nil,{14522,14788,14789,14790,14791},{47586,47587,47588,52802,52803},nil},
			{{14523,14784,14785},{14747,14770,14771},{14749,14767},{14531,14774}},
			{{14521,14776,14777},{14751},{14748,14768,14769},nil},
			{{33167,33171,33172},{14520,14780,14781},nil,{14750,14772}},
			{{33201,33202},{18551,18552,18553,18554,18555},{63574},nil},
			{{33186,33190},nil,{34908,34909,34910},nil},
			{{45234,45243,45244},{10060},{63504,63505,63506}},
			{{57470,57472},{47535,47536,47537},{47507,47508},nil},
			{{47509,47511,47515},{33206},{47516,47517},nil},
			{nil,{52795,52797,52798,52799,52780},nil,nil},
			{nil,{47540},nil,nil},
		},
		[2]={
			{{14913,15012},{14908,15020,17191},{14889,15008,15009,15010,15011},nil},
			{nil,{27900,27901,27902,27903,27904},{18530,18531,18533,18534,18535},nil},
			{{19236},{27811,27815,27816},nil,{14892,15362,15363}},
			{{27789,27790},{14912,15013,15014},{14909,15017},nil},
			{{14911,15018},{20711},{14901,15028,15029,15030,15031},nil},
			{{33150,33154},nil,{14898,15349,15354,15355,15356},nil},
			{{34753,34859,34860},{724},{33142,33145,33146},nil},
			{{64127,64129},{33158,33159,33160,33161,33162},{63730,63733,63737},nil},
			{{63534,63542,63543},{34861},{47558,47559,47560},nil},
			{nil,{47562,47564,47565,47566,47567},nil,nil},
			{nil,{47788},nil,nil},
		},
		[3]={
			{{15270,15335,15336},{15337,15338},{15259,15307,15308,15309,15310},nil},
			{{15318,15272,15320},{15275,15317},{15260,15327,15328},nil},
			{{15392,15448},{15273,15312,15313,15314,15316},{15407},nil},
			{nil,{15274,15311},{17322,17323},{15257,15331,15332}},
			{{15487},{15286},{27839,27840},{33213,33214,33215}},
			{{14910,33371},nil,{63625,63626,63627},nil},
			{nil,{15473},{33221,33222,33223,33224,33225},nil},
			{{47569,47570},nil,{33191,33192,33193},nil},
			{{64044},{34914},{47580,47581,47582},nil},
			{nil,nil,{47573,47577,47578,51166,51167},nil},
			{nil,{47585},nil,nil},
		},
	},
	["ROGUE"]={
		[1]={
			{{14162,14163,14164},{14144,14148},{14138,14139,14140,14141,14142},nil},
			{{14156,14160,14161},{51632,51633},nil,{13733,13865,13866}},
			{{14983},{14168,14169},{14128,14132,14135,14136,14137},nil},
			{nil,{16513,16514,16515},{14113,14114,14115,14116,14117},nil},
			{{31208,31209},{14177},{14174,14175,14176},{31244,31245}},
			{nil,{14186,14190,14193,14194,14195},{14158,14159},nil},
			{{51625,51626},{58426},{31380,31382,31383},nil},
			{{51634,51635,51636},nil,{31234,31235,31236},nil},
			{{31226,31227,58410},{1329},{51627,51628,51629},nil},
			{nil,{51664,51665,51667,51668,51669},nil,nil},
			{nil,{51662},nil,nil},
		},
		[2]={
			{{13741,13793,13792},{13732,13863},{13715,13848,13849,13851,13852},nil},
			{{14165,14166},{13713,13853,13854},nil,{13705,13832,13843,13844,13845}},
			{{13742,13872},{14251},{13706,13804,13805,13806,13807},nil},
			{{13754,13867},{13743,13875},{13712,13788,13789},{18427,18428,18429,61330,61331}},
			{{13709,13800,13801,13802,13803},{13877},{13960,13961,13962,13963,13964},nil},
			{nil,{30919,30920},{31124,31126},nil},
			{{31122,31123,61329},{13750},{31130,31131},nil},
			{{5952,51679},nil,{35541,35550,35551,35552,35553},nil},
			{{51672,51674},{32601},{51682,58413},nil},
			{nil,{51685,51686,51687,51688,51689},nil,nil},
			{nil,{51690},nil,nil},
		},
		[3]={
			{{14179,58422,58423,58424,58425},{13958,13970,13971},{14057,14072},nil},
			{{30892,30893},{14076,14094},{13975,14062,14063},nil},
			{{13981,14066},{14278},{14171,14172,14173},nil},
			{{13983,14070,14071},{13976,13979,13980},{14079,14080},nil},
			{{30894,30895},{14185},{14082,14083},{16511}},
			{{31221,31222,31223},nil,{30902,30903,30904,30905,30906},nil},
			{{31211,31212,31213},{14183},{31228,31229,31230},nil},
			{nil,{31216,31217,31218,31219,31220},{51692,51696},nil},
			{{51698,51700,51701},{36554},{58414,58415},nil},	
			{nil,{51708,51709,51710,51711,51712},nil,nil},
			{nil,{51713},nil,nil},
		},
	},
	["SHAMAN"]={
		[1]={
			{nil,{16039,16109,16110,16111,16112},{16035,16105,16106,16107,16108},nil},
			{{16038,16160,16161},{28996,28997,28998},{30160,29179,29180},nil},
			{{16040,16113,16114,16115,16116},{16164},{16089,60184,60185,60187,60188},nil},
			{{16086,16544},nil,{29062,29064,29065},nil},
			{{28999,29000},{16041,},nil,{30664,30665,30666}},
			{{30672,30673,30674},nil,{16578,16579,16580,16581,16582},nil},
			{nil,{16166},{51483,51485,51486},nil},
			{{63370,63372},{51466,51470},{30675,30678,30679},nil},
			{{51474,51478,51479},{30706},{51480,51481,51482},nil},
			{nil,{62097,62098,62099,62100,62101},nil,nil},
			{nil,{51490},nil,nil},
		},
		[2]={
			{{16259,16295,52456},{16043,16130},{17485,17486,17487,17488,17489},nil},
			{{16258,16293},{16255,16302,16303,16304,16305},{16262,16287},{16261,16290,51881}},
			{{16266,29079,29080},nil,{43338},{16254,16271,16272}},
			{nil,{16256,16281,16282,16283,16284},{16252,16306,16307,16308,16309},nil},
			{{29192,29193},{16268},{51883,51884,51885},nil},
			{{30802,30808,30809},nil,{29082,29084,29086},{63373,63374}},
			{{30816,30818,30819},{30798},{17364},nil},
			{{51525,51526,51527},{60103},{51521,51522},nil},
			{{30812,30813,30814},{30823},{51523,51524},nil},
			{nil,{51528,51529,51530,51531,51532},nil,nil},
			{nil,{51533},nil,nil},
		},
		[3]={
			{nil,{16182,16226,16227,16228,16229},{16173,16222,16223,16224,16225},nil},
			{{16184,16209},{29187,29189,29191},{16179,16214,16215,16216,16217},nil},
			{{16180,16196,16198},{16181,16230,16232},{55198},{16176,16235,16240,}},
			{nil,{16187,16205,16206},{16194,16218,16219,16220,16221},nil},
			{{29206,29205,29202},nil,{16188},{30864,30865,30866}},
			{nil,nil,{16178,16210,16211,16212,16213},nil},
			{{30881,30883,30884,30885,30886},{16190},{51886},nil},
			{{51554,51555},{30872,30873},{30867,30868,30869},nil},
			{{51556,51557,51558},{974},{51560,51561},nil},
			{nil,{51562,51563,51564,51565,51566},nil,nil},
			{nil,{61295},nil,nil},
		},
	},
	["WARLOCK"]={
		[1]={
			{{18827,18829},{18174,18175,18176},{17810,17811,17812,17813,17814},nil},
			{{18179,18180},{18213,18372},{18182,18183},{17804,17805}},
			{{53754,53759},{17783,17784,17785},{18288},nil},
			{{18218,18219},{18094,18095},nil,{32381,32382,32383}},
			{{32385,32387,32392,32393,32394},{63108},{18223},nil},
			{{54037,54038},{18271,18272,18273,18274,18275},nil,nil},
			{{47195,47196,47197},{30060,30061,30062,30063,30064},{18220},nil},
			{{30054,30057},nil,{32477,32483,32484},nil},
			{{47198,47199,47200},{30108},{58435},nil},
			{nil,{47201,47202,47203,47204,47205},nil,nil},
			{nil,{48181},nil,nil},
		},
		[2]={
			{{18692,18693},{18694,18695,18696},{18697,18698,18699},{47230,47231}},
			{{18703,18704},{18705,18706,18707},{18731,18743,18744},nil},
			{{18754,18755,18756},{19028},{18708},{30143,30144,30145}},
			{nil,{18769,18770,18771,18772,18773},{18709,18710},nil},
			{{30326},nil,{18767,18768},nil},
			{nil,{23785,23822,23823,23824,23825},{47245,47246,47247},nil},
			{{30319,30320,30321},{47193},{35691,35692,35693},nil},
			{nil,{30242,30245,30246,30247,30248},{63156,63158},nil},
			{{54347,54348,54349},{30146},{63117,63121,63123},nil},
			{nil,{47236,47237,47238,47239,47240},nil,nil},
			{nil,{59672},nil,nil},
		},
		[3]={
			{nil,{17793,17796,17801,17802,17803},{17788,17789,17790,17791,17792},nil},
			{{18119,18120},{63349,63350,63351},{17778,17779,17780},nil},
			{{18126,18127},{17877},{17959,59738,59739,59740,59741},nil},
			{{18135,18136},{17917,17918},nil,{17927,17929,17930}},
			{{34935,34938,34939},{17815,17833,17834},{18130},nil},
			{{30299,30301,30302},nil,{17954,17955,17956,17957,17958},nil},
			{nil,{17962},{30293,30295,30296},{18096,18073,63245}},
			{nil,{30288,30289,30290,30291,30292},{54117,54118},nil},
			{{47258,47259,47260},{30283},{47220,47221,47223},nil},
			{nil,{47266,47267,47268,47269,47270},nil,nil},
			{nil,{50796},nil,nil},
		},
	},
	["WARRIOR"]={
		[1]={
			{{12282,12663,12664},{16462,16463,16464,16465,16466},{12286,12658},nil},
			{{12285,12697},{12300,12959,12960},{12295,12676,12677},nil},
			{{12290,12963},{12296},{16493,16494},{12834,12849,12867}},
			{nil,{12163,12711,12712},{56636,56637,56638},nil},
			{{12700,12781,12783,12784,12785},{12328},{12284,12701,12702,12703,12704},{12281,12812,12813,12814,12815}},
			{{20504,20505},nil,{12289,12668,23695},{46854,46855}},
			{{29834,29838},{12294},{46865,46866},{12862,12330}},
			{{64976},{35446,35448,35449},{46859,46860},nil},
			{{29723,29725,29724},{29623},{29836,29859},nil},
			{nil,{46867,56611,56612,56613,56614},nil,nil},
			{nil,{46924},nil,nil},
		},
		[2]={
			{{61216,61221,61222},{12321,12835},{12320,12852,12853,12855,12856},nil},
			{nil,{12324,12876,12877,12878,12879},{12322,12999,13000,13001,13002},nil},
			{{12329,12950,20496},{12323},{16487,16489,16492},{12318,12857,12858,12860,12861}},
			{{23584,23585,23586,23587,23588},{20502,20503},{12317,13045,13046,13047,13048},nil},
			{{29590,29591,29592},{12292},{29888,29889},nil},
			{{20500,20501},nil,{12319,12971,12972,12973,12974},nil},
			{{46908,46909,56924},{23881},nil,{29721,29776}},
			{{46910,46911},nil,nil,{29759,29760,29761,29762,29763}},
			{{60970},{29801},{46913,46914,46915},nil},
			{nil,{56927,56929,56930,56931,56932},nil,nil},
			{nil,{46917},nil,nil},
		},
		[3]={
			{{12301,12818},{12298,12724,12725,12726,12727},{12287,12665,12666},nil},
			{nil,{50685,50686,50687},{12297,12750,12751,12752,12753},nil},
			{{12975},{12797,12799},{29598,29599},{12299,12761,12762,12763,12764}},
			{{59088,59089},{12313,12804},{12308,12810,12811},nil},
			{{12312,12803},{12809},{12311,12958},nil},
			{nil,nil,{16538,16539,16540,16541,16542},nil},
			{{29593,29594},{50720},{29787,29790,29792},nil},
			{nil,{29140,29143,29144},{46945,46949},nil},
			{{57499},{20243},{47294,47295,47296},nil},
			{nil,{46951,46952,46953},{58872,58874},nil},
			{nil,{46968},nil,nil},
		},
	},
}
local tianfuID_retail = {
	["DEATHKNIGHT"]={
		[1]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[2]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[3]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
	},
	["DRUID"]={		
		[1]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[2]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[3]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
	},
	["HUNTER"]={
		[1]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[2]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[3]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
	},
	["MAGE"]={
		[1]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[2]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[3]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
	},
	["PALADIN"]={
		[1]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[2]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[3]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
	},
	["PRIEST"]={
		[1]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[2]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[3]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
	},
	["ROGUE"]={
		[1]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[2]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[3]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
	},
	["SHAMAN"]={
		[1]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[2]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[3]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
	},
	["WARLOCK"]={
		[1]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[2]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[3]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
	},
	["WARRIOR"]={
		[1]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[2]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
		[3]={
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
			{nil,nil,nil,nil},
		},
	},
}
-----------
local tianfuW,tianfuH = 500,420
if tocversion<20000 then
	tianfuW,tianfuH = 500,420
	PIGtianfuhangshu=7
	tianfuID=tianfuID_classic
elseif tocversion<30000 then
	tianfuW,tianfuH = 500,480
	PIGtianfuhangshu=9
	tianfuID=tianfuID_TBC
elseif tocversion<40000 then
	tianfuW,tianfuH = 500,570
	PIGtianfuhangshu=11
	tianfuID=tianfuID_WLK
else
	tianfuW,tianfuH = 500,570
	PIGtianfuhangshu=0
	tianfuID=tianfuID_retail
end
----
local function Update_TFinfo(TFinfo)
	local zhiye=yuanchengDuixiang_UI.TalentF.zhiye
	yuanchengDuixiang_UI.TalentF.L_TOPLEFT:SetTexture(tianfuBG[zhiye][3]);
	yuanchengDuixiang_UI.TalentF.L_TOPRIGHT:SetTexture(tianfuBG[zhiye][4]);
	yuanchengDuixiang_UI.TalentF.L_BOTTOMLEFT:SetTexture(tianfuBG[zhiye][1]);
	yuanchengDuixiang_UI.TalentF.L_BOTTOMRIGHT:SetTexture(tianfuBG[zhiye][2]);
	--
	yuanchengDuixiang_UI.TalentF.C_TOPLEFT:SetTexture(tianfuBG[zhiye][7]);
	yuanchengDuixiang_UI.TalentF.C_TOPRIGHT:SetTexture(tianfuBG[zhiye][8]);
	yuanchengDuixiang_UI.TalentF.C_BOTTOMLEFT:SetTexture(tianfuBG[zhiye][5]);
	yuanchengDuixiang_UI.TalentF.C_BOTTOMRIGHT:SetTexture(tianfuBG[zhiye][6]);
	---
	yuanchengDuixiang_UI.TalentF.R_TOPLEFT:SetTexture(tianfuBG[zhiye][11]);
	yuanchengDuixiang_UI.TalentF.R_TOPRIGHT:SetTexture(tianfuBG[zhiye][12]);
	yuanchengDuixiang_UI.TalentF.R_BOTTOMLEFT:SetTexture(tianfuBG[zhiye][9]);
	yuanchengDuixiang_UI.TalentF.R_BOTTOMRIGHT:SetTexture(tianfuBG[zhiye][10]);
	local tianfuyidianshu,yiyongzongdianshu = 0,0
	for i=1,3 do
		local yidianzongshu = 0
		for ii=1,PIGtianfuhangshu do
			for iii=1,4 do
				local tianfuF = _G["tianfuBUT_"..i.."_"..ii.."_"..iii]
				if tianfuID[zhiye][i][ii][iii] then
					tianfuyidianshu = tianfuyidianshu+1
					local huoqudianshu=tonumber(TFinfo[tianfuyidianshu])
					yidianzongshu=yidianzongshu+huoqudianshu
					tianfuF.dianshu:SetText(huoqudianshu.."/"..#tianfuID[zhiye][i][ii][iii]);
					if huoqudianshu==#tianfuID[zhiye][i][ii][iii] then
						tianfuF.dianshu:SetTextColor(1, 1, 0, 1);
					else
						tianfuF.dianshu:SetTextColor(0, 1, 0, 1);
					end
					tianfuF.Icon:SetTexture(GetSpellTexture(tianfuID[zhiye][i][ii][iii][1]))
					tianfuF:Show();
					if huoqudianshu>0 then
						tianfuF.Icon:SetDesaturated(false)
						tianfuF:SetScript("OnEnter", function (self)
							GameTooltip:ClearLines();
							GameTooltip:SetOwner(self, "ANCHOR_CURSOR");
							GameTooltip:SetHyperlink("spell:"..tianfuID[zhiye][i][ii][iii][huoqudianshu])
							GameTooltip:Show();
						end);
					else
						tianfuF.Icon:SetDesaturated(true)
						tianfuF:SetScript("OnEnter", function (self)
							GameTooltip:ClearLines();
							GameTooltip:SetOwner(self, "ANCHOR_CURSOR");
							GameTooltip:SetHyperlink("spell:"..tianfuID[zhiye][i][ii][iii][1])
							GameTooltip:Show();
						end);
					end
					tianfuF:SetScript("OnLeave", function ()
						GameTooltip:ClearLines();
						GameTooltip:Hide() 
					end);
				else
					tianfuF:Hide();
				end
			end
		end
		yiyongzongdianshu=yiyongzongdianshu+yidianzongshu
		_G["TalentFYIDIAN"..i]:SetText(tianfuTabName[zhiye][i].."("..yidianzongshu..")");
	end
	yuanchengDuixiang_UI.TalentF.biaoti1:SetText("(已分配"..yiyongzongdianshu..")");
end
local kaishijishuxulie = {{1,4},{5,7},{8,11},{12,15},{16,19}}
local function Update_zhuangbei(index,invData)
	for i=1,#invData do
		local fID = (kaishijishuxulie[index][1]-1)+i
		local invFff = _G["yuancheng_wupin_item_"..fID]
		if invData[i]~="0" then
			local itemName,itemLink,itemQuality,itemLevel,itemMinLevel,itemType,itemSubType,itemStackCount,itemEquipLoc,itemTexture= GetItemInfo("item:"..invData[i]) 
			invFff:SetNormalTexture(itemTexture)
			if fID~=4 and fID~=19 then
				_G["yuancheng_zbBuwei_"..fID].itemlink:SetText(itemLink)
				if PIG['ShowPlus']['zhuangbeiLV']=="ON" then
					if itemLevel and itemLevel>0 then
						invFff.LV:SetText(itemLevel)
						invFff.LV:SetTextColor(QualityColor[itemQuality][1],QualityColor[itemQuality][2],QualityColor[itemQuality][3], 1);
					end
				end
			end
			invFff:SetScript("OnEnter", function (self)
				GameTooltip:ClearLines();
				GameTooltip:SetOwner(self, "ANCHOR_CURSOR");
				GameTooltip:SetHyperlink(itemLink)
				GameTooltip:Show();
			end);
		else
			invFff:SetNormalTexture("")
			invFff.LV:SetText()
			if i~=4 and i~=19 then
				_G["yuancheng_zbBuwei_"..fID].itemlink:SetText("|cff666666无|r")
			end
			invFff:SetScript("OnEnter", function (self)
				GameTooltip:ClearLines();
			end);
		end
		invFff:SetScript("OnLeave", function ()
			GameTooltip:ClearLines();
			GameTooltip:Hide() 
		end);
	end
	yuanchengDuixiang_UI:Show()
end
--获取到目标信息
local function ShowMubiao_ZBTF(ZB_TF_DATA)
	local baohanant = ZB_TF_DATA:match("@")
	if not baohanant then
		yuanchengDuixiang_UI.biaoti.t1:SetText("|cffFF0000获取失败\n目标未安装!Pig插件或版本过期|r");
		return
	end
	local index,NR = strsplit("@", ZB_TF_DATA);
	local index=tonumber(index)
	if index==9 then
		--天赋
		local TFinfo = {strsplit("-", NR)};
		Update_TFinfo(TFinfo)
	else
		local zhuangbei,renwu = strsplit("&", NR);
		if index==1 then
			local Lv,zhongzu,zhiye = strsplit("-", renwu);
			local raceInfo = C_CreatureInfo.GetRaceInfo(zhongzu)
			local classInfo = C_CreatureInfo.GetClassInfo(zhiye)
			yuanchengDuixiang_UI.Portrait_TEX:SetTexture("interface/targetingframe/ui-classes-circles.blp")
			local coords = CLASS_ICON_TCOORDS[classInfo["classFile"]]
			yuanchengDuixiang_UI.Portrait_TEX:SetTexCoord(unpack(coords));
			yuanchengDuixiang_UI.biaoti.t1:SetText("等级"..Lv.." "..raceInfo["raceName"].." "..classInfo["className"]);
			--
			yuanchengDuixiang_UI.TalentF.zhiye=classInfo["classFile"]
			local zongdianshu = tonumber(Lv)-9
			if zongdianshu>0 then
				yuanchengDuixiang_UI.TalentF.biaoti:SetText("当前可用点数"..zongdianshu);
			else
				yuanchengDuixiang_UI.TalentF.biaoti:SetText("当前可用点数0");
			end
		end
		--装备
		local ZBinfo = {strsplit("$", zhuangbei)};
		local linshihuoquList = {}
		for i=1,#ZBinfo do
			if ZBinfo[i]~="0" then
				local itemID = GetItemInfoInstant("item:"..ZBinfo[i])
				if itemID>0 then
					local item = Item:CreateFromItemID(itemID)
					linshihuoquList[item] = true
					item:ContinueOnItemLoad(function()
						linshihuoquList[item] = nil
						if not next(linshihuoquList) then
							Update_zhuangbei(index,ZBinfo)
						end
					end)
				end
			end
		end
	end
end
----
local function Show_YcUI()
	yuanchengDuixiang_UI.Portrait_TEX:SetTexture(130899);
	yuanchengDuixiang_UI.Portrait_TEX:SetTexCoord(0,1,0,1);
	yuanchengDuixiang_UI.biaoti.t1:SetText("|cffFFFF00正在获取目标信息...|r");
	for i=1,19 do
		local fujiframe = _G["yuancheng_wupin_item_"..i]
		fujiframe:SetNormalTexture("")
		fujiframe.LV:SetText()
		if i~=4 and i~=19 then
			_G["yuancheng_zbBuwei_"..i].itemlink:SetText()
		end
		fujiframe:SetScript("OnEnter", function (self)
			GameTooltip:ClearLines();
			GameTooltip:SetOwner(self, "ANCHOR_CURSOR");
			GameTooltip:Show();
		end);
		fujiframe:SetScript("OnLeave", function ()
			GameTooltip:ClearLines();
			GameTooltip:Hide() 
		end);
	end
	yuanchengDuixiang_UI.TalentF.biaoti:SetText();
	yuanchengDuixiang_UI.TalentF.biaoti1:SetText();
	--
	yuanchengDuixiang_UI.TalentF.L_TOPLEFT:SetTexture("");
	yuanchengDuixiang_UI.TalentF.L_TOPRIGHT:SetTexture("");
	yuanchengDuixiang_UI.TalentF.L_BOTTOMLEFT:SetTexture("");
	yuanchengDuixiang_UI.TalentF.L_BOTTOMRIGHT:SetTexture("");
	--
	yuanchengDuixiang_UI.TalentF.C_TOPLEFT:SetTexture("");
	yuanchengDuixiang_UI.TalentF.C_TOPRIGHT:SetTexture("");
	yuanchengDuixiang_UI.TalentF.C_BOTTOMLEFT:SetTexture("");
	yuanchengDuixiang_UI.TalentF.C_BOTTOMRIGHT:SetTexture("");
	--
	yuanchengDuixiang_UI.TalentF.R_TOPLEFT:SetTexture("");
	yuanchengDuixiang_UI.TalentF.R_TOPRIGHT:SetTexture("");
	yuanchengDuixiang_UI.TalentF.R_BOTTOMLEFT:SetTexture("");
	yuanchengDuixiang_UI.TalentF.R_BOTTOMRIGHT:SetTexture("");
	for i=1,3 do
		_G["TalentFYIDIAN"..i]:SetText();
		for ii=1,PIGtianfuhangshu do
			for iii=1,4 do
				_G["tianfuBUT_"..i.."_"..ii.."_"..iii]:Hide();
			end
		end
	end
	yuanchengDuixiang_UI:Show()
end
--右键增强=========================================================
--没有获取到目标信息
local function null_info()
	if not yuanchengDuixiang_UI.fanhuiYN then
		yuanchengDuixiang_UI.biaoti.t1:SetText("|cffFF0000获取失败\n目标未安装!Pig插件或版本过期|r");
	end
end
local function FasongqingqiuYC(fullnameX)
	if yuanchengDuixiang_UI then
		C_ChatInfo.SendAddonMessage(biaotou,YCinfo.shenqing, "WHISPER", fullnameX)
		yuanchengDuixiang_UI.biaoti.t:SetText(fullnameX);
		Show_YcUI()
		yuanchengDuixiang_UI.fanhuiYN=false
		C_Timer.After(2,null_info)
	else
		PIG_print("请打开右键增强远程查看玩家装备")
	end
end
addonTable.YCchaokanzhuangbei=FasongqingqiuYC

local function ClickGongNeng(menuName)
	local wanjiaName = {}
	--local unitX = UIDROPDOWNMENU_INIT_MENU.unit
	local nameX = UIDROPDOWNMENU_INIT_MENU.name
	wanjiaName.name=nameX
	local serverX = UIDROPDOWNMENU_INIT_MENU.server
	if serverX and GetRealmName()~=serverX then
		wanjiaName.name = nameX.."-"..serverX
	end
	if menuName=="目标信息" then
		C_FriendList.SendWho('n-'..'"'..wanjiaName.name..'"')
	end
	if menuName=="添加好友" then
		C_FriendList.AddFriend(wanjiaName.name)
	end
	if menuName=="邀请入会" then
		GuildInvite(wanjiaName.name)
	end
	if menuName=="复制名字" then
		local editBoxXX
		editBoxXX = ChatEdit_ChooseBoxForSend()
        local hasText = (editBoxXX:GetText() ~= "")
        ChatEdit_ActivateChat(editBoxXX)
		editBoxXX:Insert(wanjiaName.name)
        if (not hasText) then editBoxXX:HighlightText() end
	end
	if menuName=="查看装备" then
		FasongqingqiuYC(wanjiaName.name)
	end
	Pig_RightFUI:Hide()
	DropDownList1:Hide()
end
-----------
local caidanW,caidanH,zongHang=86,18,5
local function Show_RightF(listName)
	for i=1,zongHang do
		_G["RightF_TAB_"..i]:Hide();
	end
	local num = #listName
	for i=1,num do
		_G["RightF_TAB_"..i].Title:SetText(listName[i]);
		_G["RightF_TAB_"..i]:Show();
	end
	Pig_RightFUI:SetHeight(caidanH*num+12);
	Pig_RightFUI:Show();
	-- Pig_RightFUI.showTimer = UIDROPDOWNMENU_SHOW_TIME;
	-- Pig_RightFUI.isCounting = 1;
end
--------------------
local function RightPlus_Open()
	local fujiF=UIParent
	if Pig_RightFUI then return end
	local beijingico=DropDownList1MenuBackdrop.NineSlice.Center:GetTexture()
	local beijing1,beijing2,beijing3,beijing4=DropDownList1MenuBackdrop.NineSlice.Center:GetVertexColor()
	local Biankuang1,Biankuang2,Biankuang3,Biankuang4=DropDownList1MenuBackdrop:GetBackdropBorderColor()

	local PigRightF = CreateFrame("Frame", "Pig_RightFUI", fujiF,"BackdropTemplate");
	PigRightF:SetBackdrop( { bgFile = beijingico,
		edgeFile = "Interface/Tooltips/UI-Tooltip-Border",
		tile = false, tileSize = 0, edgeSize = 14, 
		insets = { left = 4, right = 4, top = 4, bottom = 4 } });
	PigRightF:SetBackdropBorderColor(Biankuang1,Biankuang2,Biankuang3,Biankuang4);
	PigRightF:SetBackdropColor(beijing1,beijing2,beijing3,beijing4);
	PigRightF:SetSize(caidanW,caidanH*zongHang+16);
	PigRightF:SetPoint("TOPLEFT",DropDownList1,"TOPRIGHT",-2,0);
	PigRightF:Hide();
	PigRightF:SetFrameStrata("FULLSCREEN_DIALOG")
	DropDownList1:HookScript("OnHide", function(self)
		PigRightF:Hide()
		DropDownList1.RF = nil;
    end)
    DropDownList1:SetScript("OnUpdate", function(self, elapsed)
    		if ( self.shouldRefresh ) then
				UIDropDownMenu_RefreshDropDownSize(self);
				self.shouldRefresh = false;
			end
			if DropDownList1.RF then
				return;
			end
			if ( not self.showTimer or not self.isCounting ) then
				return;
			elseif ( self.showTimer < 0 ) then
				self:Hide();
				self.showTimer = nil;
				self.isCounting = nil;
			else
				self.showTimer = self.showTimer - elapsed;
			end
	end)
    PigRightF:HookScript("OnEnter", function (self)
    	DropDownList1.RF = true;
	end)
	PigRightF:HookScript("OnLeave", function (self)
		DropDownList1.RF = nil;
	end)
	---
    PigRightF.listName={}
	PigRightF.listName2={}
    if tocversion<40000 then
		PigRightF.listName={"目标信息","添加好友","邀请入会","复制名字","查看装备"}
		PigRightF.listName2={"邀请入会","复制名字","查看装备"}
    else
		PigRightF.listName={"目标信息","添加好友","邀请入会"}
		PigRightF.listName2={"邀请入会"}
    end
	------
	for i=1,zongHang do
		PigRightF.TAB = CreateFrame("Button", "RightF_TAB_"..i, PigRightF);
		PigRightF.TAB:SetSize(caidanW-8,caidanH);
		if i==1 then
			PigRightF.TAB:SetPoint("TOPLEFT", PigRightF, "TOPLEFT", 4, -6);
		else
			PigRightF.TAB:SetPoint("TOPLEFT", _G["RightF_TAB_"..(i-1)], "BOTTOMLEFT", 0, 0);
		end

		PigRightF.TAB.Title = PigRightF.TAB:CreateFontString();
		PigRightF.TAB.Title:SetPoint("LEFT", PigRightF.TAB, "LEFT", 6, 0);
		PigRightF.TAB.Title:SetFontObject(GameFontNormal);
		PigRightF.TAB.Title:SetTextColor(1,1,1, 1);
		PigRightF.TAB.highlight1 = PigRightF.TAB:CreateTexture(nil, "BORDER");
		PigRightF.TAB.highlight1:SetTexture("interface/buttons/ui-listbox-highlight.blp");
		PigRightF.TAB.highlight1:SetPoint("CENTER", PigRightF.TAB, "CENTER", 0,0);
		PigRightF.TAB.highlight1:SetSize(caidanW-8,caidanH);
		PigRightF.TAB.highlight1:SetAlpha(0.9);
		PigRightF.TAB.highlight1:Hide();
		PigRightF.TAB:HookScript("OnEnter", function (self)
			self.highlight1:Show()
			DropDownList1.RF = true;
		end)
		PigRightF.TAB:HookScript("OnLeave", function (self)
			self.highlight1:Hide()
			DropDownList1.RF = nil;
		end)
		PigRightF.TAB:SetScript("OnMouseDown", function(self)
			self.Title:SetPoint("LEFT", self, "LEFT", 7.4, -1.4);
		end);
		PigRightF.TAB:SetScript("OnMouseUp", function(self)
			self.Title:SetPoint("LEFT", self, "LEFT", 6, 0);
		end);
		PigRightF.TAB:SetScript("OnClick", function(self)
			ClickGongNeng(self.Title:GetText())
		end);
	end
	hooksecurefunc("UnitPopup_ShowMenu", function(dropdownMenu, which, unit, name)
		--print(dropdownMenu:GetName())print(which)print(unit)print(name)
        if (UIDROPDOWNMENU_MENU_LEVEL > 1) then return end
		PigRightF:Hide();
        if dropdownMenu:GetName() == "FriendsDropDown" then
	        if which == "FRIEND" or which == "CHAT_ROSTER" or which == "RAID" then
				Show_RightF(PigRightF.listName)
	        end
	    end
	    if which == "CHAT_ROSTER" then--聊天频道
        	Show_RightF(PigRightF.listName)
        end
	    if dropdownMenu:GetName() == "TargetFrameDropDown" then--目标
			Show_RightF(PigRightF.listName2)
	    end
		if which == "PLAYER" or which == "PARTY" or which == "RAID_PLAYER" then--团队框架
			Show_RightF(PigRightF.listName2)
		end
    end)

    fuFrame.xiayiRPSlider.Text:SetText(PIG['ChatFrame']['xiayijuli']);
	fuFrame.xiayiRPSlider:SetValue(PIG['ChatFrame']['xiayijuli']);
	--远程查看装备天赋===========================
	local yuanchengDuixiang=ADD_Frame("yuanchengDuixiang_UI",UIParent,360,444,"CENTER",UIParent,"CENTER",-300, 120,true,false,true,true,true)
	local ADD_CharacterFrame=addonTable.ADD_CharacterFrame
	ADD_CharacterFrame(yuanchengDuixiang,"yuancheng",360)

	--天赋----------------------------
	yuanchengDuixiang.TalentF = CreateFrame("Frame", nil, yuanchengDuixiang,"BackdropTemplate");
	yuanchengDuixiang.TalentF:SetBackdrop( { bgFile = "Interface/DialogFrame/UI-DialogBox-Background",
		edgeFile = "Interface/Tooltips/UI-Tooltip-Border", edgeSize = 16, 
		insets = { left = 4, right = 4, top = 4, bottom = 4 }});
	yuanchengDuixiang.TalentF:SetSize(tianfuW+140,tianfuH);
	yuanchengDuixiang.TalentF:SetPoint("TOPLEFT", yuanchengDuixiang, "TOPRIGHT", -8, -14)
	yuanchengDuixiang.TalentF:Hide()
	yuanchengDuixiang.TalentF.L_TOPLEFT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.L_TOPLEFT:SetSize(tianfuW/3,tianfuH-104);
	yuanchengDuixiang.TalentF.L_TOPLEFT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF, "TOPLEFT",4, -24);
	yuanchengDuixiang.TalentF.L_TOPRIGHT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.L_TOPRIGHT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.L_TOPLEFT, "TOPRIGHT",0, 0);
	yuanchengDuixiang.TalentF.L_TOPRIGHT:SetPoint("BOTTOMLEFT", yuanchengDuixiang.TalentF.L_TOPLEFT, "BOTTOMRIGHT",0, 0);
	yuanchengDuixiang.TalentF.L_BOTTOMLEFT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.L_BOTTOMLEFT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.L_TOPLEFT, "BOTTOMLEFT",0, 0);
	yuanchengDuixiang.TalentF.L_BOTTOMLEFT:SetPoint("TOPRIGHT", yuanchengDuixiang.TalentF.L_TOPLEFT, "BOTTOMRIGHT",0, 0);
	yuanchengDuixiang.TalentF.L_BOTTOMRIGHT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.L_BOTTOMRIGHT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.L_BOTTOMLEFT, "TOPRIGHT",0, 0);
	---
	yuanchengDuixiang.TalentF.C_TOPLEFT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.C_TOPLEFT:SetWidth(tianfuW/3);
	yuanchengDuixiang.TalentF.C_TOPLEFT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.L_TOPRIGHT, "TOPRIGHT",-20, 0);
	yuanchengDuixiang.TalentF.C_TOPLEFT:SetPoint("BOTTOMLEFT", yuanchengDuixiang.TalentF.L_TOPRIGHT, "BOTTOMRIGHT",-20, 0);
	yuanchengDuixiang.TalentF.C_TOPRIGHT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.C_TOPRIGHT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.C_TOPLEFT, "TOPRIGHT",0, 0);
	yuanchengDuixiang.TalentF.C_TOPRIGHT:SetPoint("BOTTOMLEFT", yuanchengDuixiang.TalentF.C_TOPLEFT, "BOTTOMRIGHT",0, 0);
	yuanchengDuixiang.TalentF.C_BOTTOMLEFT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.C_BOTTOMLEFT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.C_TOPLEFT, "BOTTOMLEFT",0, 0);
	yuanchengDuixiang.TalentF.C_BOTTOMLEFT:SetPoint("TOPRIGHT", yuanchengDuixiang.TalentF.C_TOPLEFT, "BOTTOMRIGHT",0, 0);
	yuanchengDuixiang.TalentF.C_BOTTOMRIGHT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.C_BOTTOMRIGHT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.C_BOTTOMLEFT, "TOPRIGHT",0, 0);
	---
	yuanchengDuixiang.TalentF.R_TOPLEFT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.R_TOPLEFT:SetWidth(tianfuW/3);
	yuanchengDuixiang.TalentF.R_TOPLEFT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.C_TOPRIGHT, "TOPRIGHT",-20, 0);
	yuanchengDuixiang.TalentF.R_TOPLEFT:SetPoint("BOTTOMLEFT", yuanchengDuixiang.TalentF.C_TOPRIGHT, "BOTTOMRIGHT",-20, 0);
	yuanchengDuixiang.TalentF.R_TOPRIGHT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.R_TOPRIGHT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.R_TOPLEFT, "TOPRIGHT",0, 0);
	yuanchengDuixiang.TalentF.R_TOPRIGHT:SetPoint("BOTTOMLEFT", yuanchengDuixiang.TalentF.R_TOPLEFT, "BOTTOMRIGHT",0, 0);
	yuanchengDuixiang.TalentF.R_BOTTOMLEFT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.R_BOTTOMLEFT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.R_TOPLEFT, "BOTTOMLEFT",0, 0);
	yuanchengDuixiang.TalentF.R_BOTTOMLEFT:SetPoint("TOPRIGHT", yuanchengDuixiang.TalentF.R_TOPLEFT, "BOTTOMRIGHT",0, 0);
	yuanchengDuixiang.TalentF.R_BOTTOMRIGHT = yuanchengDuixiang.TalentF:CreateTexture(nil, "BORDER");
	yuanchengDuixiang.TalentF.R_BOTTOMRIGHT:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF.R_BOTTOMLEFT, "TOPRIGHT",0, 0);
	--
	yuanchengDuixiang.TalentF.biaoti = yuanchengDuixiang.TalentF:CreateFontString();
	yuanchengDuixiang.TalentF.biaoti:SetPoint("TOP", yuanchengDuixiang.TalentF, "TOP", 0,-6);
	yuanchengDuixiang.TalentF.biaoti:SetFontObject(GameFontNormal);
	yuanchengDuixiang.TalentF.biaoti1 = yuanchengDuixiang.TalentF:CreateFontString();
	yuanchengDuixiang.TalentF.biaoti1:SetPoint("LEFT", yuanchengDuixiang.TalentF.biaoti, "RIGHT", 0,0);
	yuanchengDuixiang.TalentF.biaoti1:SetFontObject(GameFontNormal);
	--
	yuanchengDuixiang.TalentF.ZJ1 = yuanchengDuixiang.TalentF:CreateFontString("TalentFYIDIAN1");
	yuanchengDuixiang.TalentF.ZJ1:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF, "TOPLEFT", 84,-27);
	yuanchengDuixiang.TalentF.ZJ1:SetFontObject(GameFontNormal);
	yuanchengDuixiang.TalentF.ZJ2 = yuanchengDuixiang.TalentF:CreateFontString("TalentFYIDIAN2");
	yuanchengDuixiang.TalentF.ZJ2:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF, "TOPLEFT", 300,-27);
	yuanchengDuixiang.TalentF.ZJ2:SetFontObject(GameFontNormal);
	yuanchengDuixiang.TalentF.ZJ3 = yuanchengDuixiang.TalentF:CreateFontString("TalentFYIDIAN3");
	yuanchengDuixiang.TalentF.ZJ3:SetPoint("TOPLEFT", yuanchengDuixiang.TalentF, "TOPLEFT", 510,-27);
	yuanchengDuixiang.TalentF.ZJ3:SetFontObject(GameFontNormal);
	---
	local tianfuB= 30
	for i=1,3 do
		for ii=1,PIGtianfuhangshu do
			for iii=1,4 do
				local tianfuBUT = CreateFrame("Button", "tianfuBUT_"..i.."_"..ii.."_"..iii, yuanchengDuixiang.TalentF, "SecureActionButtonTemplate");
				tianfuBUT:SetHighlightTexture(130718);
				tianfuBUT:SetSize(tianfuB,tianfuB);
				if i==1 then
					if ii==1 then
						if iii==1 then
							tianfuBUT:SetPoint("TOPLEFT",yuanchengDuixiang.TalentF,"TOPLEFT",20,-46);
						else
							tianfuBUT:SetPoint("LEFT", _G["tianfuBUT_"..i.."_"..ii.."_"..(iii-1)], "RIGHT", 20, 0);
						end
					else
						if iii==1 then
							tianfuBUT:SetPoint("TOP",_G["tianfuBUT_"..i.."_"..(ii-1).."_"..iii],"BOTTOM", 0, -18);
						else
							tianfuBUT:SetPoint("LEFT", _G["tianfuBUT_"..i.."_"..ii.."_"..(iii-1)], "RIGHT", 20, 0);
						end
					end
				elseif i==2 then
					if ii==1 then
						if iii==1 then
							tianfuBUT:SetPoint("TOPLEFT",yuanchengDuixiang.TalentF,"TOPLEFT",236,-46);
						else
							tianfuBUT:SetPoint("LEFT", _G["tianfuBUT_"..i.."_"..ii.."_"..(iii-1)], "RIGHT", 20, 0);
						end
					else
						if iii==1 then
							tianfuBUT:SetPoint("TOP",_G["tianfuBUT_"..i.."_"..(ii-1).."_"..iii],"BOTTOM", 0, -18);
						else
							tianfuBUT:SetPoint("LEFT", _G["tianfuBUT_"..i.."_"..ii.."_"..(iii-1)], "RIGHT", 20, 0);
						end
					end
				elseif i==3 then
					if ii==1 then
						if iii==1 then
							tianfuBUT:SetPoint("TOPLEFT",yuanchengDuixiang.TalentF,"TOPLEFT",444,-46);
						else
							tianfuBUT:SetPoint("LEFT", _G["tianfuBUT_"..i.."_"..ii.."_"..(iii-1)], "RIGHT", 20, 0);
						end
					else
						if iii==1 then
							tianfuBUT:SetPoint("TOP",_G["tianfuBUT_"..i.."_"..(ii-1).."_"..iii],"BOTTOM", 0, -18);
						else
							tianfuBUT:SetPoint("LEFT", _G["tianfuBUT_"..i.."_"..ii.."_"..(iii-1)], "RIGHT", 20, 0);
						end
					end
				end
				tianfuBUT.Border = tianfuBUT:CreateTexture(nil, "BORDER");
				tianfuBUT.Border:SetTexture(130841);
				tianfuBUT.Border:SetPoint("TOPLEFT",tianfuBUT,"TOPLEFT",-10,10);
				tianfuBUT.Border:SetPoint("BOTTOMRIGHT",tianfuBUT,"BOTTOMRIGHT",10,-10);
				tianfuBUT.Icon = tianfuBUT:CreateTexture(nil, "BORDER");
				tianfuBUT.Icon:SetPoint("TOPLEFT",tianfuBUT,"TOPLEFT",0,0);
				tianfuBUT.Icon:SetPoint("BOTTOMRIGHT",tianfuBUT,"BOTTOMRIGHT",0,0);
				tianfuBUT.dianshuBG = tianfuBUT:CreateTexture(nil, "ARTWORK");
				tianfuBUT.dianshuBG:SetTexture("interface/talentframe/talentframe-rankborder.blp");
				tianfuBUT.dianshuBG:SetSize(tianfuB*1.74,tianfuB);
				tianfuBUT.dianshuBG:SetPoint("BOTTOMRIGHT",tianfuBUT,"BOTTOMRIGHT",25,-14);
				tianfuBUT.dianshu = tianfuBUT:CreateFontString();
				tianfuBUT.dianshu:SetPoint("CENTER", tianfuBUT.dianshuBG, "CENTER", 1,1);
				tianfuBUT.dianshu:SetFont(ChatFontNormal:GetFont(), 12, "OUTLINE");
			end
		end
	end

	---====
	yuanchengDuixiang.Talent = CreateFrame("Button", nil, yuanchengDuixiang, "TruncatedButtonTemplate");
	yuanchengDuixiang.Talent:SetNormalTexture("interface/buttons/ui-spellbookicon-nextpage-up.blp")
	yuanchengDuixiang.Talent:SetPushedTexture("interface/buttons/ui-spellbookicon-nextpage-down.blp")
	yuanchengDuixiang.Talent:SetHighlightTexture("interface/buttons/ui-common-mousehilight.blp");
	yuanchengDuixiang.Talent:SetSize(26,26);
	yuanchengDuixiang.Talent:SetPoint("BOTTOMRIGHT",yuanchengDuixiang,"BOTTOMRIGHT",-20,14);
	yuanchengDuixiang.Talent:SetScript("OnClick", function (self)
		if yuanchengDuixiang.TalentF:IsShown() then
			self:SetNormalTexture("interface/buttons/ui-spellbookicon-nextpage-up.blp")
			self:SetPushedTexture("interface/buttons/ui-spellbookicon-nextpage-down.blp")
			yuanchengDuixiang.TalentF:Hide()
		else
			self:SetNormalTexture("interface/buttons/ui-spellbookicon-prevpage-up.blp")
			self:SetPushedTexture("interface/buttons/ui-spellbookicon-prevpage-down.blp")
			yuanchengDuixiang.TalentF:Show()
		end
	end);
end

---------------------
fuFrame.RightPlus = ADD_Checkbutton(nil,fuFrame,-60,"TOPLEFT",fuFrame.RP,"TOPLEFT",20,-10,"右键增强","增强交互时右键功能，例如点击聊天栏玩家名/查询页玩家名")
fuFrame.RightPlus:SetScript("OnClick", function (self)
    if self:GetChecked() then
        PIG['ChatFrame']['RightPlus']="ON";
        RightPlus_Open();
        fuFrame.xiayiRPSlider:Enable();
    else
        PIG['ChatFrame']['RightPlus']="OFF";
        fuFrame.xiayiRPSlider:Disable();
        Pig_Options_RLtishi_UI:Show()
    end
end);

fuFrame.xiayiRP = fuFrame:CreateFontString();
fuFrame.xiayiRP:SetPoint("LEFT",fuFrame.RightPlus.Text,"RIGHT",10,0);
fuFrame.xiayiRP:SetFontObject(GameFontNormal);
fuFrame.xiayiRP:SetText("下移增强菜单：");
fuFrame.xiayiRPSlider = CreateFrame("Slider", nil, fuFrame, "OptionsSliderTemplate")
fuFrame.xiayiRPSlider:SetSize(100,14);
fuFrame.xiayiRPSlider:SetPoint("LEFT",fuFrame.xiayiRP,"RIGHT",10,0);
fuFrame.xiayiRPSlider.tooltipText = '拖动滑块或者用鼠标滚轮调整数值';
fuFrame.xiayiRPSlider.Low:SetText('0');
fuFrame.xiayiRPSlider.High:SetText('100');
fuFrame.xiayiRPSlider:SetMinMaxValues(0, 100);
fuFrame.xiayiRPSlider:SetValueStep(1);
fuFrame.xiayiRPSlider:SetObeyStepOnDrag(true);
fuFrame.xiayiRPSlider:Disable();

fuFrame.xiayiRPSlider:EnableMouseWheel(true);--接受滚轮输入
fuFrame.xiayiRPSlider:SetScript("OnMouseWheel", function(self, arg1)
	if self:IsEnabled() then
		local step = 1 * arg1
		local value = self:GetValue()
		if step > 0 then
			self:SetValue(min(value + step, 100))
		else
			self:SetValue(max(value + step, 0))
		end
	end
end)
fuFrame.xiayiRPSlider:SetScript('OnValueChanged', function(self)
	local val = self:GetValue()
	self.Text:SetText(val);
	Pig_RightFUI:SetPoint("TOPLEFT",DropDownList1,"TOPRIGHT",0,-val);
	PIG['ChatFrame']['xiayijuli']=val
end)
--------------------------------------
local function SAVE_C(index)
	local ItemInfo = index.."@"
	for inv = kaishijishuxulie[index][1], kaishijishuxulie[index][2] do
		local itemLink=GetInventoryItemLink("player", inv)
		if inv==kaishijishuxulie[index][2] then
			if itemLink then
				local x, xx, xxx, xxxx = itemLink:find("%[");
				local vvvv=itemLink:sub(18,x-4)
				ItemInfo=ItemInfo..vvvv;
			else
				ItemInfo=ItemInfo.."0";
			end
		else
			if itemLink then
				local x, xx, xxx, xxxx = itemLink:find("%[");
				local vvvv=itemLink:sub(18,x-4)
				ItemInfo=ItemInfo..vvvv.."$";
			else
				ItemInfo=ItemInfo.."0$";
			end
		end	
	end
	if index==1 then
		local raceName, raceFile, raceID = UnitRace("player")
		local _, classId = UnitClassBase("player");
		local level = UnitLevel("player")
		ItemInfo = ItemInfo.."&"..level.."-"..raceID.."-"..classId
	end
	return ItemInfo
end

local function SAVE_TIANFU(index)
	local TFInfo = index.."@"
	if tocversion<40000 then
		local linshiTFinfo = {}
		for i=1,3 do
			linshiTFinfo[i]={}
			for ii=1,PIGtianfuhangshu do
				linshiTFinfo[i][ii]={}
				for iii=1,4 do
					linshiTFinfo[i][ii][iii]="无"
				end
			end
		end
		local numTabs = GetNumTalentTabs()
		for i=1,numTabs do
			local numTalents=GetNumTalents(i)
			for ii=1,numTalents do
				local name, iconTexture, tier, column, rank = GetTalentInfo(i, ii)
				linshiTFinfo[i][tier][column]=rank
			end
		end
		local linshiTFinfo1 = {}
		for i=1,3 do
			for ii=1,PIGtianfuhangshu do
				for iii=1,4 do
					if linshiTFinfo[i][ii][iii]~="无" then
						table.insert(linshiTFinfo1,linshiTFinfo[i][ii][iii])
					end
				end
			end
		end
		for i=1,#linshiTFinfo1 do
			if i==#linshiTFinfo1 then
				TFInfo=TFInfo..linshiTFinfo1[i]
			else
				TFInfo=TFInfo..linshiTFinfo1[i].."-"
			end
		end
	else
		 local currentSpec = GetSpecialization()
		 TFInfo=TFInfo..currentSpec.."-"
		 for i=1,MAX_TALENT_TIERS do
		 	local tierAvailable, selectedTalent, tierUnlockLevel = GetTalentTierInfo(i, 1, false, "player")
		 	if i==MAX_TALENT_TIERS then
		 		TFInfo=TFInfo..selectedTalent
		 	else
		 		TFInfo=TFInfo..selectedTalent.."-"
		 	end
		 end
	end
	return TFInfo
end
local yuanchangchakanFFF = CreateFrame("Frame")
yuanchangchakanFFF:RegisterEvent("CHAT_MSG_ADDON");     
yuanchangchakanFFF:SetScript("OnEvent",function(self, event, arg1, arg2, _, _, arg5,_,_,_,arg9)
	if event=="CHAT_MSG_ADDON" and arg1 == biaotou then
		if arg2==YCinfo.shenqing then
			local ZBinfo_1 =SAVE_C(1)
			local ZBinfo_2 =SAVE_C(2)
			local ZBinfo_3 =SAVE_C(3)
			local ZBinfo_4 =SAVE_C(4)
			local ZBinfo_5 =SAVE_C(5)
			C_ChatInfo.SendAddonMessage(biaotou, ZBinfo_1, "WHISPER", arg5)
			C_ChatInfo.SendAddonMessage(biaotou, ZBinfo_2, "WHISPER", arg5)
			C_ChatInfo.SendAddonMessage(biaotou, ZBinfo_3, "WHISPER", arg5)
			C_ChatInfo.SendAddonMessage(biaotou, ZBinfo_4, "WHISPER", arg5)
			C_ChatInfo.SendAddonMessage(biaotou, ZBinfo_5, "WHISPER", arg5)
			local tianfuxinxi =SAVE_TIANFU(9)
			C_ChatInfo.SendAddonMessage(biaotou, tianfuxinxi, "WHISPER", arg5)
		else
			yuanchengDuixiang_UI.fanhuiYN=true
			ShowMubiao_ZBTF(arg2)
		end
	end
end)
--=====================================
addonTable.Interaction_RightPlus = function()
    if PIG['ChatFrame']['RightPlus']=="ON" then
        fuFrame.RightPlus:SetChecked(true);
        RightPlus_Open();
        fuFrame.xiayiRPSlider:Enable();
    end
end