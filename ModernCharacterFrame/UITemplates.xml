<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
    <!-- Texture templates for PaperDollFrame -->
    <Texture name="MCF-PaperDollFrameBgTemplate" file="Interface\FrameGeneral\UI-Background-Rock" horizTile="true" vertTile="true" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" x="16" y="-33"/> <!-- By default it's x="2" y="-21" -->
            <Anchor point="BOTTOMRIGHT" x="-36" y="78"/> <!-- By default it's x="-2" y="2" -->
        </Anchors>
    </Texture>
    <Texture name="MCF-PaperDollFrameTitleBgTemplate" inherits="_UI-Frame-TitleTileBg" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" x="16" y="-17"/> <!-- By default it's x="2" y="-3" -->
            <Anchor point="TOPRIGHT" x="-35" y="-17"/> <!-- By default it's x="-25" y="-3" -->
        </Anchors>
    </Texture>
    <Texture name="MCF-PaperDollPortraitFrameTemplate" inherits="UI-Frame-Portrait" parentKey="portraitFrame" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" x="1" y="-3"/> <!-- By default it's x="-14" y="11" -->
        </Anchors>
    </Texture>
    <Texture name="MCF-TopRightCornerTemplate" inherits="UI-Frame-TopCornerRight" virtual="true">
        <Anchors>
            <Anchor point="TOPRIGHT" x="-32" y="-13"/> <!-- By default it's x="0" y="1" -->
        </Anchors>
    </Texture>
    <Texture name="MCF-TopLeftCornerTemplate" inherits="UI-Frame-TopLeftCorner" hidden="true" parentKey="topLeftCorner" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" x="10" y="-13"/> <!-- By default it's x="-6" y="1" -->
        </Anchors>
    </Texture>
    <Texture name="MCF-TopBorderTemplate" inherits="_UI-Frame-TitleTile" parentKey="topBorderBar" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="$parentPortraitFrame" relativePoint="TOPRIGHT" x="0" y="-10" />
            <Anchor point="TOPRIGHT" relativeTo="$parentTopRightCorner" relativePoint="TOPLEFT"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-TopTileStreaksTemplate" inherits="_UI-Frame-TopTileStreaks" parentKey="TopTileStreaks" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" x="16" y="-35"/> <!-- By default it's x="0" y="-21" -->
            <Anchor point="TOPRIGHT" x="-34" y="-35"/> <!-- By default it's x="-2" y="-21" -->
        </Anchors>
    </Texture>
    <Texture name="MCF-BotLeftCornerTemplate" inherits="UI-Frame-BotCornerLeft" virtual="true">
        <Anchors>
            <Anchor point="BOTTOMLEFT" x="9" y="70"/> <!-- By default it's x="-6" y="-5" -->
        </Anchors>
    </Texture>
    <Texture name="MCF-BotRightCornerTemplate" inherits="UI-Frame-BotCornerRight" virtual="true">
        <Anchors>
            <Anchor point="BOTTOMRIGHT" x="-32" y="70"/> <!-- By default it's x="0" y="-5" -->
        </Anchors>
    </Texture>
    <Texture name="MCF-BottomBorderTemplate" inherits="_UI-Frame-Bot" virtual="true">
        <Anchors>
            <Anchor point="BOTTOMLEFT" relativeTo="$parentBotLeftCorner" relativePoint="BOTTOMRIGHT" y="0"/>
            <Anchor point="BOTTOMRIGHT" relativeTo="$parentBotRightCorner" relativePoint="BOTTOMLEFT" y="0"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-LeftBorderTemplate" inherits="!UI-Frame-LeftTile" parentKey="leftBorderBar" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="$parentPortraitFrame" relativePoint="BOTTOMLEFT" x="8" y="0" />
            <Anchor point="BOTTOMLEFT" relativeTo="$parentBotLeftCorner" relativePoint="TOPLEFT"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-RightBorderTemplate" inherits="!UI-Frame-RightTile" virtual="true">
        <Anchors>
            <Anchor point="TOPRIGHT" relativeTo="$parentTopRightCorner" relativePoint="BOTTOMRIGHT" x="1"/>
            <Anchor point="BOTTOMRIGHT" relativeTo="$parentBotRightCorner" relativePoint="TOPRIGHT"/>
        </Anchors>
    </Texture>
    <!-- <Texture name="MCF-BtnCornerLeftTemplate" inherits="UI-Frame-BtnCornerLeft" virtual="true">
        <Anchors>
            <Anchor point="BOTTOMLEFT" x="14" y="75"/> By default it's x="-2" y="-1"
        </Anchors>
    </Texture>
    <Texture name="MCF-BtnCornerRightTemplate" inherits="UI-Frame-BtnCornerRight" virtual="true">
        <Anchors>
            <Anchor point="BOTTOMRIGHT" x="-32" y="75"/> By default it's x="0" y="-1"
        </Anchors>
    </Texture>
    <Texture name="MCF-ButtonBottomBorderTemplate" inherits="_UI-Frame-BtnBotTile" virtual="true">
        <Anchors>
            <Anchor point="BOTTOMLEFT" relativeTo="$parentBtnCornerLeft" relativePoint="BOTTOMRIGHT" y="3"/>
            <Anchor point="BOTTOMRIGHT" relativeTo="$parentBtnCornerRight" relativePoint="BOTTOMLEFT"/>
        </Anchors>
    </Texture> -->
    <!-- Background texture templates for CharacterModelFrame -->
    <Texture name="MCF-CharacterModelFrameBackgroundTopLeft" parentKey="BackgroundTopLeft" virtual="true">
        <Size  x="212" y="245"/>
        <Anchors>
            <Anchor point="TOPLEFT" x="0" y="0"/>
        </Anchors>
        <TexCoords left="0.171875" right="1" top="0.0392156862745098" bottom="1"/>
    </Texture>
    <Texture name="MCF-CharacterModelFrameBackgroundTopRight" parentKey="BackgroundTopRight" virtual="true">
        <Size x="19" y="245"/>
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="CharacterModelFrameBackgroundTopLeft" relativePoint="TOPRIGHT"/>
        </Anchors>
        <TexCoords left="0" right="0.296875" top="0.0392156862745098" bottom="1"/>
    </Texture>
    <Texture name="MCF-CharacterModelFrameBackgroundBotLeft" parentKey="BackgroundBotLeft" virtual="true">
        <Size x="212" y="128"/>
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="CharacterModelFrameBackgroundTopLeft" relativePoint="BOTTOMLEFT"/>
        </Anchors>
        <TexCoords left="0.171875" right="1" top="0" bottom="1"/>
    </Texture>
    <Texture name="MCF-CharacterModelFrameBackgroundBotRight" parentKey="BackgroundBotRight" virtual="true">
        <Size x="19" y="128"/>
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="CharacterModelFrameBackgroundTopLeft" relativePoint="BOTTOMRIGHT"/>
        </Anchors>
        <TexCoords left="0" right="0.296875" top="0" bottom="1"/>
    </Texture>
    <Texture name="MCF-CharacterModelFrameBackgroundOverlay" parentKey="BackgroundOverlay" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="CharacterModelFrameBackgroundTopLeft"/>
                <Anchor point="BOTTOMRIGHT" relativeTo="CharacterModelFrameBackgroundBotRight" x="0" y="52"/>
            </Anchors>
        <Color r="0" g="0" b="0"/>
    </Texture>
    <!-- Border texture templates for CharacterModelFrame -->
    <Texture name="MCF-PaperDollInnerBorderTopLeftTemplate" inherits="Char-Corner-UpperLeft" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="CharacterFrameInset" x="45" y="-4"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-PaperDollInnerBorderTopRightTemplate" inherits="Char-Corner-UpperRight" virtual="true">
        <Anchors>
            <Anchor point="TOPRIGHT" relativeTo="CharacterFrameInset" x="-49" y="-4"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-PaperDollInnerBorderBottomLeftTemplate" inherits="Char-Corner-LowerLeft" virtual="true">
        <Anchors>
            <Anchor point="BOTTOMLEFT" relativeTo="CharacterFrameInset" x="45" y="31"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-PaperDollInnerBorderBottomRightTemplate" inherits="Char-Corner-LowerRight" virtual="true">
        <Anchors>
            <Anchor point="BOTTOMRIGHT" relativeTo="CharacterFrameInset" x="-49" y="31"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-PaperDollInnerBorderLeftTemplate" inherits="Char-Inner-Left" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="PaperDollInnerBorderTopLeft" relativePoint="BOTTOMLEFT" x="-1"/>
            <Anchor point="BOTTOMLEFT" relativeTo="PaperDollInnerBorderBottomLeft" relativePoint="TOPLEFT" x="-1"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-PaperDollInnerBorderRightTemplate" inherits="Char-Inner-Right" virtual="true">
        <Anchors>
            <Anchor point="TOPRIGHT" relativeTo="PaperDollInnerBorderTopRight" relativePoint="BOTTOMRIGHT" x="1"/>
            <Anchor point="BOTTOMRIGHT" relativeTo="PaperDollInnerBorderBottomRight" relativePoint="TOPRIGHT" x="1"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-PaperDollInnerBorderTopTemplate" inherits="Char-Inner-Top" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="PaperDollInnerBorderTopLeft" relativePoint="TOPRIGHT" y="1"/>
            <Anchor point="TOPRIGHT" relativeTo="PaperDollInnerBorderTopRight" relativePoint="TOPLEFT" y="1"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-PaperDollInnerBorderBottomTemplate" inherits="Char-Inner-Bottom" virtual="true">
        <Anchors>
            <Anchor point="BOTTOMLEFT" relativeTo="PaperDollInnerBorderBottomLeft" relativePoint="BOTTOMRIGHT" y="-1"/>
            <Anchor point="BOTTOMRIGHT" relativeTo="PaperDollInnerBorderBottomRight" relativePoint="BOTTOMLEFT" y="-1"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-PaperDollInnerBorderBottom2Template" inherits="Char-Inner-Bottom" virtual="true">
        <Anchors>
            <Anchor point="BOTTOMLEFT" relativeTo="CharacterFrameInset" y="27"/>
            <Anchor point="BOTTOMRIGHT" relativeTo="CharacterFrameInset" y="27"/>
        </Anchors>
    </Texture>
    <!-- Item slot button texture templates -->
    <Texture name="MCF-LeftItemSlotTemplate" inherits="Char-LeftSlot" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" x="-4" y="1"/>
            <Anchor point="BOTTOMRIGHT" x="9" y="-7"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-RightItemSlotTemplate" inherits="Char-RightSlot" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" x="-9" y="1"/>
            <Anchor point="BOTTOMRIGHT" x="4" y="-7"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-BottomItemSlotTemplate" inherits="Char-BottomSlot" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" x="-4" y="8"/>
            <Anchor point="BOTTOMRIGHT" x="1" y="-8"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-BottomItemSlotLeftBorderTemplate" inherits="Char-Slot-Bottom-Left" virtual="true">
        <Anchors>
            <Anchor point="TOPRIGHT" relativeTo="$parentFrame" relativePoint="TOPLEFT"/>
        </Anchors>
    </Texture>
    <Texture name="MCF-BottomItemSlotRightBorderTemplate" inherits="Char-Slot-Bottom-Right" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="$parentFrame" relativePoint="TOPRIGHT"/>
        </Anchors>
    </Texture>

    <!-- CharacterFrame Expant/Collapse button template -->
    <Button name="MCF-CharacterFrameExpandButtonTemplate" virtual="true">
        <Size x="32" y="32"/>
        <Anchors>
            <Anchor point="BOTTOMRIGHT" relativeTo="CharacterFrameInset" x="-2" y="-1"/>
        </Anchors>
        <Scripts>
            <OnLoad>
                self:SetFrameLevel(self:GetParent():GetFrameLevel() + 2);
            </OnLoad>
            <OnClick>
                if (CharacterFrame.Expanded) then
                    MCF_SetSettings("characterFrameCollapsed", "1");
                    PlaySound(SOUNDKIT.IG_CHARACTER_INFO_CLOSE);
                    MCF_CharacterFrame_Collapse();
                else
                    MCF_SetSettings("characterFrameCollapsed", "0");
                    PlaySound(SOUNDKIT.IG_CHARACTER_INFO_OPEN);
                    MCF_CharacterFrame_Expand();
                end
                if (GameTooltip:GetOwner() == self) then
                    self:GetScript("OnEnter")(self);
                end
            </OnClick>
            <OnEnter>
                GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
                if (CharacterFrame.Expanded) then
                    GameTooltip:SetText(HIGHLIGHT_FONT_COLOR_CODE..self.collapseTooltip..FONT_COLOR_CODE_CLOSE);
                else
                    GameTooltip:SetText(HIGHLIGHT_FONT_COLOR_CODE..self.expandTooltip..FONT_COLOR_CODE_CLOSE);
                end
            </OnEnter>
            <OnLeave>
                GameTooltip:Hide();
            </OnLeave>
        </Scripts>
        <NormalTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Up"/>
        <PushedTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Down"/>
        <DisabledTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Disabled"/>
        <HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
    </Button>
    <!-- Sidebar tab button template -->
    <Button name="MCF-PaperDollSidebarTabTemplate" virtual="true">
		<Size x="33" y="35"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture file="Interface\PaperDollInfoFrame\PaperDollSidebarTabs" parentKey="TabBg">
					<Size x="50" y="43"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="-9" y="-2"/>
					</Anchors>
					<TexCoords left="0.01562500" right="0.79687500" top="0.61328125" bottom="0.78125000"/>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<Texture parentKey="Icon">
					<Size x="33" y="35"/>
					<Anchors>
						<Anchor point="BOTTOM" x="1" y="-2"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="Hider" file="Interface\PaperDollInfoFrame\PaperDollSidebarTabs">
					<Size x="34" y="19"/>
					<Anchors>
						<Anchor point="BOTTOM"/>
					</Anchors>
					<TexCoords left="0.01562500" right="0.54687500" top="0.11328125" bottom="0.18750000"/>
				</Texture>
			</Layer>
			<Layer level="HIGHLIGHT">
				<Texture parentKey="Highlight" file="Interface\PaperDollInfoFrame\PaperDollSidebarTabs">
					<Size x="31" y="31"/>	
					<Anchors>
						<Anchor point="TOPLEFT" x="2" y="-3"/>
					</Anchors>
					<TexCoords left="0.01562500" right="0.50000000" top="0.19531250" bottom="0.31640625"/>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self.Icon:SetTexture(MCF_PAPERDOLL_SIDEBARS[self:GetID()].icon);
				local tcoords = MCF_PAPERDOLL_SIDEBARS[self:GetID()].texCoords;
				self.Icon:SetTexCoord(tcoords[1], tcoords[2], tcoords[3], tcoords[4]);
			</OnLoad>
			<OnClick>
				MCF_PaperDollFrame_SetSidebar(self, self:GetID());
			</OnClick>
			<OnEnter>
				GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
				GameTooltip:SetText(MCF_PAPERDOLL_SIDEBARS[self:GetID()].name, 1, 1, 1);
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide();
			</OnLeave>
		</Scripts>
	</Button>
    <!-- PlayerTitle button template -->
    <Button name="MCF-PlayerTitleButtonTemplate" virtual="true">
		<Size x="169" y="22"/>
		<Anchors>
			<Anchor point="LEFT">
				<Offset x="2" y="0"/>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentBgTop" inherits="Char-Stat-Top" parentKey="BgTop">
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="1"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBgBottom" inherits="Char-Stat-Top" parentKey="BgBottom">
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="0" y="-4"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBgMiddle" file="Interface\CharacterFrame\Char-Stat-Middle" parentKey="BgMiddle" vertTile="true">
					<Size x="169" y="8"/>
					<Anchors>
						<Anchor point="LEFT" x="1"/>
					</Anchors>
					<TexCoords left="0.00390625" right="0.66406250" top="0.00000000" bottom="1.00000000"/>
				</Texture>
			</Layer>
			<Layer level="BACKGROUND" textureSubLevel="1">
				<Texture name="$parentStripe" parentKey="Stripe">
					<Anchors>
						<Anchor point="TOPLEFT" x="1" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture name="$parentCheck" file="Interface\Buttons\UI-CheckBox-Check" parentKey="Check" hidden="true">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="8" y="0"/>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture name="$parentSelectedBar" parentKey="SelectedBar" file="Interface\FriendsFrame\UI-FriendsFrame-HighlightBar" alpha="0.4" alphaMode="ADD" hidden="true"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				SetClampedTextureRotation(self.BgBottom, 180);
			</OnLoad>
			<OnClick>
				MCF_PlayerTitleButton_OnClick(self);
			</OnClick>
		</Scripts>
		<ButtonText name="$parentTitleText" inherits="GameFontNormalSmallLeft" justifyH="LEFT" parentKey="text">
			<Anchors>
				<Anchor point="LEFT" relativeTo="$parentCheck" relativePoint="RIGHT" x="3" y="0"/>
				<Anchor point="RIGHT" x="-3" y="0"/>
			</Anchors>
		</ButtonText>
		<HighlightTexture file="Interface\FriendsFrame\UI-FriendsFrame-HighlightBar-Blue" alphaMode="ADD"/>	
	</Button>
    <!-- EquipManager Equip/Save button template -->
    <Button name="MCF-UIPanelButtonTemplate" virtual="true">
		<ButtonText name="$parentText"/>
		<NormalFont style="GameFontNormal"/>
		<HighlightFont style="GameFontHighlight"/>
		<DisabledFont style="GameFontDisable"/>
		<NormalTexture inherits="UIPanelButtonUpTexture"/>
		<PushedTexture inherits="UIPanelButtonDownTexture"/>
		<DisabledTexture inherits="UIPanelButtonDisabledTexture"/>
		<HighlightTexture inherits="UIPanelButtonHighlightTexture"/>
	</Button>
    <!-- EquipmentManager button template -->
	<Button name="MCF-GearSetButtonTemplate" virtual="true">
		<Size x="169" y="44"/>
		<Anchors>
			<Anchor point="LEFT" x="2" y="0"/>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentBgTop" inherits="Char-Stat-Top" parentKey="BgTop">
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="1"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBgBottom" inherits="Char-Stat-Top" parentKey="BgBottom">
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="0" y="-4"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBgMiddle" file="Interface\CharacterFrame\Char-Stat-Middle" parentKey="BgMiddle" vertTile="true">
					<Size x="169" y="8"/>
					<Anchors>
						<Anchor point="LEFT" x="1"/>
					</Anchors>
					<TexCoords left="0.00390625" right="0.66406250" top="0.00000000" bottom="1.00000000"/>
				</Texture>
			</Layer>
			<Layer level="BACKGROUND" textureSubLevel="1">
				<Texture name="$parentStripe" parentKey="Stripe">
					<Anchors>
						<Anchor point="TOPLEFT" x="1" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture name="$parentCheck" file="Interface\Buttons\UI-CheckBox-Check" parentKey="Check" hidden="true">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="RIGHT">
							<Offset x="-8" y="0"/>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<FontString name="$parentText" inherits="GameFontNormalLeft" parentKey="text">
					<Size x="98" y="38"/>
					<Anchors>
						<Anchor point="LEFT" x="44"/>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="-2">
				<Texture parentKey="SpecRing" atlas="equipmentmanager-spec-border" useAtlasSize="true">
					<Anchors>
						<Anchor point="TOPLEFT" x="18" y="-18"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="-3">
				<Texture parentKey="SpecIcon">
					<Size x="18" y="18"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent.SpecRing" relativePoint="CENTER" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="-1">
				<Texture name="$parentHighlightBar" parentKey="HighlightBar" file="Interface\FriendsFrame\UI-FriendsFrame-HighlightBar-Blue" alpha="0.4" alphaMode="ADD" hidden="true">
					<TexCoords left="0.2" right="0.8" top="0" bottom="1"/>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture name="$parentSelectedBar" parentKey="SelectedBar" file="Interface\FriendsFrame\UI-FriendsFrame-HighlightBar" alpha="0.4" alphaMode="ADD" hidden="true">
					<TexCoords left="0.2" right="0.8" top="0" bottom="1"/>
				</Texture>
			</Layer>
		</Layers>		
		<Frames>
			<Button name="$parentDeleteButton" parentKey="DeleteButton" hidden="true">
				<Size>
					<AbsDimension x="14" y="14"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" x="-2" y="2"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture file="Interface\Buttons\UI-GroupLoot-Pass-Up" alpha="0.5" parentKey="texture"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnEnter>
						self.texture:SetAlpha(1.0);
						GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
						GameTooltip:SetText(DELETE);
					</OnEnter>
					<OnLeave>
						self.texture:SetAlpha(0.5);
						GameTooltip_Hide();
					</OnLeave>
					<OnMouseDown>
						self.texture:SetPoint("TOPLEFT", 1, -1);
					</OnMouseDown>
					<OnMouseUp>
						self.texture:SetPoint("TOPLEFT", 0, 0);
					</OnMouseUp>
					<OnClick>
						MCF_GearSetDeleteButton_OnClick(self)
					</OnClick>
				</Scripts>
			</Button>
			<DropDownToggleButton name="$parentEditButton" parentKey="EditButton" hidden="true">
				<Size>
					<AbsDimension x="16" y="16"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="$parentDeleteButton" relativePoint="LEFT" x="-1"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture file="Interface\WorldMap\GEAR_64GREY" alpha="0.5" parentKey="texture"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad function="MCF_GearSetEditButton_OnLoad"/>
					<OnEnter>
						self.texture:SetAlpha(1.0);
						GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
						--GameTooltip:SetText(EQUIPMENT_SET_EDIT); -- MCF FIX: Changed button tooltip text
						GameTooltip:SetText(EQUIPMENT_SET_SETTINGS);
					</OnEnter>
					<OnLeave>
						self.texture:SetAlpha(0.5);
						GameTooltip_Hide();
					</OnLeave>
					<OnMouseDown function="MCF_GearSetEditButton_OnMouseDown"/>
					<OnMouseUp>
						self.texture:SetPoint("TOPLEFT", 0, 0);
					</OnMouseUp>
					<!-- <OnClick>
						MCF_GearSetButton_OnClick(self:GetParent());
						MCF_GearManagerDialogPopup:Show();
						MCF_GearManagerDialogPopup.isEdit = true;
						MCF_GearManagerDialogPopup.origName = self:GetParent().name;
						MCF_RecalculateGearManagerDialogPopup(self:GetParent().name, self:GetParent().icon:GetTexture());
					</OnClick> -->
				</Scripts>
			</DropDownToggleButton>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
				SetClampedTextureRotation(self.BgBottom, 180);
			</OnLoad>
			<OnClick>
				MCF_GearSetButton_OnClick(self, button, down);
			</OnClick>
			<OnDoubleClick function="MCF_GearSetButton_OnDoubleClick"/>
			<OnEnter>
				MCF_GearSetButton_OnEnter(self);
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide();
			</OnLeave>
			<OnDragStart>
				if ( self.setID ) then
					C_EquipmentSet.PickupEquipmentSet(self.setID);
				end
			</OnDragStart>
		</Scripts>
		<NormalTexture name="$parentIcon" parentKey="icon">
			<Size>
				<AbsDimension x="36" y="36"/>
			</Size>
			<Anchors>
				<Anchor point="LEFT">
					<Offset>
						<AbsDimension x="4" y="0"/>
					</Offset>
				</Anchor>
			</Anchors>
		</NormalTexture>
	</Button>

    <!-- EquipmentManager popup button template -->
    <CheckButton name="MCF-GearSetPopupButtonTemplate" inherits="SimplePopupButtonTemplate" virtual="true">
		<Scripts>
			<OnLoad>
				local name = self:GetName();
				self.icon = _G[name .. "Icon"];
				self.name = _G[name .. "Name"];
			</OnLoad>
			<OnClick>
				MCF_GearSetPopupButton_OnClick(self, button, down);
			</OnClick>
		</Scripts>
		<NormalTexture name="$parentIcon" nonBlocking="true">
			<Size>
				<AbsDimension x="36" y="36"/>
			</Size>
			<Anchors>
				<Anchor point="CENTER">
					<Offset>
						<AbsDimension x="0" y="-1"/>
					</Offset>
				</Anchor>
			</Anchors>
		</NormalTexture>
		<HighlightTexture alphaMode="ADD" file="Interface\Buttons\ButtonHilight-Square"/>
		<CheckedTexture alphaMode="ADD" file="Interface\Buttons\CheckButtonHilight"/>
	</CheckButton>	

    <!-- CharacterStatsPane Scrollbar template -->
    <ScrollFrame name="MCF-CharacterStatsPaneTemplate" hidden="true" inherits="UIPanelScrollFrameTemplate2" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="CharacterFrameInsetRight" x="4" y="-4"/>
            <Anchor point="BOTTOMRIGHT" relativeTo="CharacterFrameInsetRight" x="-27" y="2"/>
        </Anchors>
        <Scripts>
            <OnLoad>
                self.ScrollBar.scrollStep = 50;
                ScrollFrame_OnLoad(self);
                ScrollFrame_OnScrollRangeChanged(self);
            </OnLoad>
        </Scripts>
        <ScrollChild>
            <Frame name="CharacterStatsPaneScrollChild">
                <Size x="170" y="0"/>
                <Anchors>
                    <Anchor point="TOPLEFT"/>
                </Anchors>
                <Frames>
                    <Frame name="CharacterStatsPaneCategory1" inherits="MCF-StatGroupTemplate"/>
                    <Frame name="CharacterStatsPaneCategory2" inherits="MCF-StatGroupTemplate"/>
                    <Frame name="CharacterStatsPaneCategory3" inherits="MCF-StatGroupTemplate"/>
                    <Frame name="CharacterStatsPaneCategory4" inherits="MCF-StatGroupTemplate"/>
                    <Frame name="CharacterStatsPaneCategory5" inherits="MCF-StatGroupTemplate"/>
                    <Frame name="CharacterStatsPaneCategory6" inherits="MCF-StatGroupTemplate"/>
                    <Frame name="CharacterStatsPaneCategory7" inherits="MCF-StatGroupTemplate"/>
                </Frames>
            </Frame>
        </ScrollChild>
    </ScrollFrame>
    <!-- CharacterTitlesPane Scrollbar template -->
    <ScrollFrame name="MCF-PaperDollTitlesPaneTemplate" inherits="HybridScrollFrameTemplate" hidden="true" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="CharacterFrameInsetRight" x="4" y="-4"/>
            <Anchor point="BOTTOMRIGHT" relativeTo="CharacterFrameInsetRight" x="-27" y="2"/>
        </Anchors>
        <Frames>
            <Slider name="$parentScrollBar" inherits="HybridScrollBarTemplate" parentKey="scrollBar">
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
                        <Offset x="4" y="-13"/>
                    </Anchor>
                    <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT">
                        <Offset x="4" y="14"/>
                    </Anchor>
                </Anchors>
            </Slider>
        </Frames>
        <Scripts>
            <OnLoad>
                self.scrollBar.doNotHide  = 1;
                self:SetFrameLevel(CharacterFrameInsetRight:GetFrameLevel()+1);
                MCF_PaperDollTitlesPane_OnLoad(self);
            </OnLoad>
            <OnShow>
                HybridScrollFrame_CreateButtons(PaperDollTitlesPane, "MCF-PlayerTitleButtonTemplate");
                MCF_PaperDollTitlesPane_Update();
            </OnShow>
        </Scripts>
    </ScrollFrame>
    <!-- CharacterEquipmentManagerPane Scrollbar template -->
    <ScrollFrame name="MCF-PaperDollEquipmentManagerPaneTemplate" inherits="HybridScrollFrameTemplate" hidden="true" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" relativeTo="CharacterFrameInsetRight" x="4" y="-4"/>
            <Anchor point="BOTTOMRIGHT" relativeTo="CharacterFrameInsetRight" x="-27" y="2"/>
        </Anchors>
        <Frames>
            <Button name="$parentEquipSet" text="EQUIPSET_EQUIP" parentKey="EquipSet" inherits="MCF-UIPanelButtonTemplate">
                <Size x="87" y="22"/>
                <Anchors>
                    <Anchor point="TOPLEFT" x="0" y="0"/>
                </Anchors>
                <Scripts>
                    <OnClick function="MCF_PaperDollEquipmentManagerPaneEquipSet_OnClick"/>
                </Scripts>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture parentKey="ButtonBackground">
                            <Anchors>
                                <Anchor point="TOPLEFT" relativeTo="PaperDollEquipmentManagerPane"/>
                                <Anchor point="BOTTOMRIGHT" relativeTo="PaperDollEquipmentManagerPane" relativePoint="TOPRIGHT" x="0" y="-23"/>
                            </Anchors>
                            <Color r="0" g="0" b="0"/>
                        </Texture>
                    </Layer>
                </Layers>
            </Button>
            <Button name="$parentSaveSet" text="SAVE" parentKey="SaveSet" inherits="MCF-UIPanelButtonTemplate">
                <Size x="87" y="22"/>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentEquipSet" relativePoint="RIGHT"/>
                </Anchors>
                <Scripts>
                    <OnClick function="MCF_PaperDollEquipmentManagerPaneSaveSet_OnClick"/>
                </Scripts>
            </Button>
            <Slider name="$parentScrollBar" inherits="HybridScrollBarTemplate" parentKey="scrollBar">
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
                        <Offset x="4" y="-13"/>
                    </Anchor>
                    <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT">
                        <Offset x="4" y="14"/>
                    </Anchor>
                </Anchors>
            </Slider>
        </Frames>
        <Scripts>
            <OnLoad>
                self.scrollBar.doNotHide  = 1;
                self:SetFrameLevel(CharacterFrameInsetRight:GetFrameLevel()+1);
                self.EquipSet:SetFrameLevel(self:GetFrameLevel()+3);
                self.SaveSet:SetFrameLevel(self:GetFrameLevel()+3);
                MCF_PaperDollEquipmentManagerPane_OnLoad(self);
            </OnLoad>
            <OnShow function="MCF_PaperDollEquipmentManagerPane_OnShow"/>
            <OnHide function="MCF_PaperDollEquipmentManagerPane_OnHide"/>
            <OnEvent function="MCF_PaperDollEquipmentManagerPane_OnEvent"/>
            <OnUpdate function="MCF_PaperDollEquipmentManagerPane_OnUpdate"/>
        </Scripts>
    </ScrollFrame>


    <!-- Character Model control panel -->
    <Frame name="MCF-CharacterModelControlFrameTemplate" parentKey="controlFrame" alpha="0.5" hidden="true" virtual="true">
        <Size x="112" y="23"/>
        <Anchors>
            <Anchor point="TOP" x="0" y="-2"/>
        </Anchors>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentRight" file="Interface\Common\UI-ModelControlPanel">
                    <Size x="23" y="23"/>
                    <Anchors>
                        <Anchor point="RIGHT" x="0" y="0"/>
                    </Anchors>
                    <TexCoords left="0.01562500" right="0.37500000" top="0.42968750" bottom="0.60937500"/>
                </Texture>
                <Texture name="$parentLeft" file="Interface\Common\UI-ModelControlPanel">
                    <Size x="23" y="23"/>
                    <Anchors>
                        <Anchor point="LEFT" x="0" y="0"/>
                    </Anchors>
                    <TexCoords left="0.40625000" right="0.76562500" top="0.42968750" bottom="0.60937500"/>
                </Texture>
                <Texture name="$parentMiddle" file="Interface\Common\UI-ModelControlPanel">
                    <Size x="32" y="23"/>
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT" x="0" y="0"/>
                        <Anchor point="RIGHT" relativeTo="$parentRight" relativePoint="LEFT" x="0" y="0"/>
                    </Anchors>
                    <TexCoords left="0" right="1" top="0.62500000" bottom="0.80468750"/>
                </Texture>
            </Layer>
        </Layers>
        <Frames>
            <Button name="$parentZoomInButton" inherits="ModelControlButtonTemplate">
                <Anchors>
                    <Anchor point="LEFT" x="2" y="0"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        self:RegisterForClicks("AnyUp");
                        self.icon:SetTexCoord(0.57812500, 0.82812500, 0.14843750, 0.27343750);
                        self.tooltip = ZOOM_IN;
                        self.tooltipText = KEY_MOUSEWHEELUP;
                    </OnLoad>
                    <OnClick>
                        local model = self:GetParent():GetParent();
                        Model_OnMouseWheel(model, 1);
                        PlaySound(SOUNDKIT.IG_INVENTORY_ROTATE_CHARACTER);
                    </OnClick>
                </Scripts>
            </Button>
            <Button name="$parentZoomOutButton" inherits="ModelControlButtonTemplate">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentZoomInButton" relativePoint="RIGHT" x="0" y="0"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        self:RegisterForClicks("AnyUp");
                        self.icon:SetTexCoord(0.29687500, 0.54687500, 0.00781250, 0.13281250);
                        self.tooltip = ZOOM_OUT;
                        self.tooltipText = KEY_MOUSEWHEELDOWN;
                    </OnLoad>
                    <OnClick>
                        local model = self:GetParent():GetParent();
                        Model_OnMouseWheel(model, -1);
                        PlaySound(SOUNDKIT.IG_INVENTORY_ROTATE_CHARACTER);
                    </OnClick>
                </Scripts>
            </Button>
            <Button name="$parentPanButton" inherits="ModelControlButtonTemplate" parentKey="panButton">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentZoomOutButton" relativePoint="RIGHT" x="0" y="0"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        self:RegisterForClicks("AnyUp");
                        self.icon:SetTexCoord(0.29687500, 0.54687500, 0.28906250, 0.41406250);
                        self.tooltip = DRAG_MODEL;
                        self.tooltipText = DRAG_MODEL_TOOLTIP;
                    </OnLoad>
                    <OnMouseDown>
                        ModelControlButton_OnMouseDown(self);
                        Model_StartPanning(self:GetParent():GetParent(), true);
                    </OnMouseDown>
                    <OnMouseUp>
                        PlaySound(SOUNDKIT.IG_INVENTORY_ROTATE_CHARACTER);
                    </OnMouseUp>
                </Scripts>
            </Button>
            <Button name="$parentRotateLeftButton" inherits="ModelControlButtonTemplate" parentKey="rotateLeftButton">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentPanButton" relativePoint="RIGHT" x="0" y="0"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        self:RegisterForClicks("AnyUp");
                        self.icon:SetTexCoord(0.01562500, 0.26562500, 0.28906250, 0.41406250);
                        self.tooltip = ROTATE_LEFT;
                        self.tooltipText = ROTATE_TOOLTIP;
                    </OnLoad>
                    <OnClick>
                        Model_RotateLeft(self:GetParent():GetParent());
                    </OnClick>
                </Scripts>
            </Button>
            <Button name="$parentRotateRightButton" inherits="ModelControlButtonTemplate" parentKey="rotateRightButton">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentRotateLeftButton" relativePoint="RIGHT" x="0" y="0"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        self:RegisterForClicks("AnyUp");
                        self.icon:SetTexCoord(0.57812500, 0.82812500, 0.28906250, 0.41406250);
                        self.tooltip = ROTATE_RIGHT;
                        self.tooltipText = ROTATE_TOOLTIP;
                    </OnLoad>
                    <OnClick>
                        Model_RotateRight(self:GetParent():GetParent());
                    </OnClick>
                </Scripts>
            </Button>
            <Button name="$parentRotateResetButton" inherits="ModelControlButtonTemplate">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentRotateRightButton" relativePoint="RIGHT" x="0" y="0"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        self:RegisterForClicks("AnyUp");
                        self.tooltip = RESET_POSITION;
                    </OnLoad>
                    <OnClick>
                        Model_Reset(self:GetParent():GetParent());
                        PlaySound(SOUNDKIT.IG_INVENTORY_ROTATE_CHARACTER);
                    </OnClick>
                </Scripts>
            </Button>
        </Frames>
        <Scripts>
            <OnHide>
                if ( self.buttonDown ) then
                    ModelControlButton_OnMouseUp(self.buttonDown);
                end
            </OnHide>
        </Scripts>
    </Frame>
    <!-- Stat frame template -->
    <Frame name="MCF-StatFrameTemplate" virtual="true">
		<Size x="104" y="13"/>
		<Layers>
			<Layer level="BACKGROUND">
				<FontString name="$parentLabel" inherits="GameFontNormalSmall" parentKey="Label">
					<Anchors>
						<Anchor point="LEFT"/>
					</Anchors>
				</FontString>
				<FontString name="$parentStatText" inherits="GameFontHighlightSmall" justifyH="RIGHT" parentKey="Value">
					<Anchors>
						<Anchor point="RIGHT"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnEnter>
				MCF_PaperDollStatTooltip(self);
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide();
			</OnLeave>
		</Scripts>
	</Frame>
    <!-- Stat group template -->
    <Frame name="MCF-StatGroupTemplate" virtual="true">
		<Size x="169" y="0"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentBgTop" inherits="Char-Stat-Top" parentKey="BgTop">
					<Anchors>
						<Anchor point="TOPLEFT"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBgBottom" inherits="Char-Stat-Bottom" parentKey="BgBottom">
					<Anchors>
						<Anchor point="BOTTOMLEFT"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBgMiddle" file="Interface\CharacterFrame\Char-Stat-Middle" parentKey="BgMiddle" vertTile="true">
					<Size x="169" y="8"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parentBgTop" relativePoint="BOTTOMLEFT" x="1"/>
						<Anchor point="BOTTOMLEFT" relativeTo="$parentBgBottom" relativePoint="TOPLEFT"/>
					</Anchors>
					<TexCoords left="0.00390625" right="0.66406250" top="0.00000000" bottom="1.00000000"/>
				</Texture>
				<Texture name="$parentBgMinimized" inherits="Char-Stat-Minimized" parentKey="BgMinimized" hidden="true">
					<Size x="169" y="18"/>
					<Anchors>
						<Anchor point="TOPLEFT"/>
					</Anchors>
				</Texture>
				<FontString name="$parentNameText" inherits="GameFontHighlight" justifyH="LEFT" parentKey="NameText">
					<Anchors>
						<Anchor point="TOPLEFT" x="15" y="-3"/>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="ARTWORK">
				<Texture name="$parentCollapsedIcon" parentKey="CollapsedIcon" inherits="Char-Stat-Plus" hidden="true">
					<Anchors>
						<Anchor point="TOPLEFT" x="5" y="-5"/>
					</Anchors>
				</Texture>
				<Texture name="$parentExpandedIcon" parentKey="ExpandedIcon" inherits="Char-Stat-Minus">
					<Anchors>
						<Anchor point="TOPLEFT" x="5" y="-7"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentToolbar">
				<Anchors>
					<Anchor point="TOPLEFT"/>
					<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" x="0" y="-20"/>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForDrag("LeftButton");
					</OnLoad>
					<OnEnter>
						if (MOVING_STAT_CATEGORY == nil) then
							self.SortDownArrow:Show();
							self.SortUpArrow:Show();
						end
						self.SortDownArrow:Show();
						self.SortUpArrow:Show();
					</OnEnter>
					<OnLeave>
						if ( not self:IsMouseOver() and MOVING_STAT_CATEGORY ~= self:GetParent()) then
							self.SortDownArrow:Hide();
							self.SortUpArrow:Hide();
						end
					</OnLeave>
					<OnClick>
						if self:GetParent().collapsed then
							MCF_PaperDollFrame_ExpandStatCategory(self:GetParent());
							local categoryInfo = MCF_PAPERDOLL_STATCATEGORIES[self:GetParent().Category];
							if (categoryInfo and CharacterStatsPane.collapsedCVarName) then
								MCF_SetSettings(CharacterStatsPane.collapsedCVarName, false, categoryInfo.id);
							end
						else
							MCF_PaperDollFrame_CollapseStatCategory(self:GetParent());
							local categoryInfo = MCF_PAPERDOLL_STATCATEGORIES[self:GetParent().Category];
							if (categoryInfo and CharacterStatsPane.collapsedCVarName) then
								MCF_SetSettings(CharacterStatsPane.collapsedCVarName, true, categoryInfo.id);
							end
						end
					</OnClick>
					<OnDragStart>
						MCF_PaperDollStatCategory_OnDragStart(self:GetParent());
						self.SortDownArrow:Show();
						self.SortUpArrow:Show();
					</OnDragStart>
					<OnDragStop>
						MCF_PaperDollStatCategory_OnDragStop(self:GetParent());
						if (self:IsMouseOver()) then
							self.SortDownArrow:Show();
							self.SortUpArrow:Show();
						else
							self.SortDownArrow:Hide();
							self.SortUpArrow:Hide();
						end
					</OnDragStop>
				</Scripts>
				<Frames>
					<Button name="$parentSortUpArrow" parentKey="SortUpArrow" hidden="true">
						<Size x="16" y="8"/>
						<Anchors>
							<Anchor point="TOPRIGHT" x="-1" y="-1"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture name="$parentArrow" file="Interface\PaperDollInfoFrame\StatSortArrows" parentKey="Arrow" alpha="0.4" setAllPoints="true">	
									<TexCoords left="0" right="1" top="0" bottom="0.5"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnEnter>
								self:Show();
								self.Arrow:SetAlpha(0.6);
								self:GetParent().SortDownArrow:Show();
							</OnEnter>
							<OnLeave>
								self.Arrow:SetAlpha(0.4);
								if ( not self:GetParent():IsMouseOver() ) then
									self:Hide();
									self:GetParent().SortDownArrow:Hide();
								end
							</OnLeave>
							<OnClick>
								MCF_PaperDoll_MoveCategoryUp(self:GetParent():GetParent());
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentSortDownArrow" parentKey="SortDownArrow" hidden="true">
						<Size x="16" y="8"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentSortUpArrow" relativePoint="BOTTOMLEFT"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture name="$parentArrow" file="Interface\PaperDollInfoFrame\StatSortArrows" parentKey="Arrow" alpha="0.4" setAllPoints="true">
									<TexCoords left="0" right="1" top="0.5" bottom="1"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnEnter>
								self:Show();
								self.Arrow:SetAlpha(0.6);
								self:GetParent().SortUpArrow:Show();
							</OnEnter>
							<OnLeave>
								self.Arrow:SetAlpha(0.4);
								if ( not self:GetParent():IsMouseOver() ) then
									self:Hide();
									self:GetParent().SortUpArrow:Hide();
								end
							</OnLeave>
							<OnClick>
								MCF_PaperDoll_MoveCategoryDown(self:GetParent():GetParent());
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Button>
			<Frame name="$parentStat1" inherits="MCF-StatFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" x="16" y="-19"/>
					<Anchor point="RIGHT" x="-4"/>
				</Anchors>
			</Frame>
		</Frames>
	</Frame>
    <!-- Sidebar Tabs panel template -->
    <Frame name="MCF-PaperDollSidebarTabsTemplate" parent="CharacterFrameInsetRight" hidden="true" virtual="true">
        <Size x="168" y="35"/>
        <Anchors>
            <Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" x="-6" y="-1"/>
        </Anchors>
        <Layers>
            <Layer level="ARTWORK">
                <Texture parentKey="DecorLeft" file="Interface\PaperDollInfoFrame\PaperDollSidebarTabs">
                    <Size x="28" y="11"/>
                    <Anchors>
                        <Anchor point="BOTTOMLEFT"/>
                    </Anchors>
                    <TexCoords left="0.01562500" right="0.45312500" top="0.00390625" bottom="0.04687500"/>
                </Texture>
                <Texture parentKey="DecorRight" file="Interface\PaperDollInfoFrame\PaperDollSidebarTabs">
                    <Size x="28" y="13"/>
                    <Anchors>
                        <Anchor point="BOTTOMRIGHT"/>
                    </Anchors>
                    <TexCoords left="0.01562500" right="0.45312500" top="0.05468750" bottom="0.10546875"/>
                </Texture>
            </Layer>
        </Layers>
        <Frames>
            <Button name="PaperDollSidebarTab3" inherits="MCF-PaperDollSidebarTabTemplate" id="3">
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" x="-30" y="0"/>
                </Anchors>
            </Button>
            <Button name="PaperDollSidebarTab2" inherits="MCF-PaperDollSidebarTabTemplate" id="2">
                <Anchors>
                    <Anchor point="RIGHT" relativeTo="PaperDollSidebarTab3" relativePoint="LEFT" x="-4"/>
                </Anchors>
            </Button>
            <Button name="PaperDollSidebarTab1" inherits="MCF-PaperDollSidebarTabTemplate" id="1">
                <Anchors>
                    <Anchor point="RIGHT" relativeTo="PaperDollSidebarTab2" relativePoint="LEFT" x="-4"/>
                </Anchors>
                <Scripts>
                    <OnLoad>
                        self:RegisterEvent("UNIT_PORTRAIT_UPDATE");
                        self:RegisterEvent("PLAYER_ENTERING_WORLD");
                        
                        local tcoords = MCF_PAPERDOLL_SIDEBARS[self:GetID()].texCoords;
                        self.Icon:SetTexCoord(tcoords[1], tcoords[2], tcoords[3], tcoords[4]);
                        self.Icon:SetSize(29, 31);
                        self.Icon:SetPoint("BOTTOM", 1, 0);
                    </OnLoad>
                    <OnEvent>
                        if ( event == "UNIT_PORTRAIT_UPDATE" ) then
                            local unit = ...;
                            if ( unit == "player" ) then
                                SetPortraitTexture(self.Icon, unit);
                            end
                        elseif ( event == "PLAYER_ENTERING_WORLD" ) then
                            SetPortraitTexture(self.Icon, "player");
                        end
                    </OnEvent>
                </Scripts>
            </Button>
        </Frames>
    </Frame>
    <!-- GearManager popup template -->
    <Frame name="MCF-GearManagerDialogPopupTemplate" hidden="true" parent="PaperDollFrame" virtual="true">
		<Size x="525" y="475"/>
		<Anchors>
			<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="170" y="-12"/>
		</Anchors>
		<Layers>
			<Layer level="BORDER">
				<Texture parentKey="TopLeft" atlas="macropopup-topleft" useAtlasSize="true">
					<Anchors>
						<Anchor point="TOPLEFT"/>
					</Anchors>
				</Texture>
				<Texture parentKey="TopRight" atlas="macropopup-topright" useAtlasSize="true">
					<Anchors>
						<Anchor point="TOPRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
				<Texture atlas="_macropopup-top" horizTile="true" useAtlasSize="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.TopLeft" relativePoint="TOPRIGHT" x="0" y="0"/>
						<Anchor point="TOPRIGHT" relativeKey="$parent.TopRight" relativePoint="TOPLEFT" x="0" y="0"/>
					</Anchors>
				</Texture>
				<Texture parentKey="BottomLeft" atlas="macropopup-bottomleft" useAtlasSize="true">
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="0" y="0"/>
					</Anchors>
				</Texture>
				<Texture parentKey="BottomRight" atlas="macropopup-bottomright" useAtlasSize="true">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
				<Texture atlas="_macropopup-bottom" horizTile="true" useAtlasSize="true">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativeKey="$parent.BottomLeft" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.BottomRight" relativePoint="BOTTOMLEFT" x="0" y="0"/>
					</Anchors>
				</Texture>
				<Texture atlas="!macropopup-left" vertTile="true" useAtlasSize="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.TopLeft" relativePoint="BOTTOMLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMLEFT" relativeKey="$parent.BottomLeft" relativePoint="TOPLEFT" x="0" y="0"/>
					</Anchors>
				</Texture>
				<Texture atlas="!macropopup-right" vertTile="true" useAtlasSize="true">
					<Anchors>
						<Anchor point="TOPRIGHT" relativeKey="$parent.TopRight" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.BottomRight" relativePoint="TOPRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BACKGROUND">
				<Texture parentKey="BG">
					<Anchors>
						<Anchor point="TOPLEFT" x="7" y="-7"/>
						<Anchor point="BOTTOMRIGHT" x="-7" y="7"/>
					</Anchors>
					<Color r="0" g="0" b="0" a=".80"/>
				</Texture>
				<!-- <Texture file="Interface\MacroFrame\MacroPopup-TopLeft">
					<Size x="256" y="212"/>
					<Anchors>
						<Anchor point="TOPLEFT"/>
					</Anchors>
					<TexCoords left="0" right="1" top="0" bottom="0.828125"/>
				</Texture>
				<Texture file="Interface\MacroFrame\MacroPopup-TopRight">
					<Size x="64" y="212"/>
					<Anchors>
						<Anchor point="TOPRIGHT">
							<Offset x="256" y="0"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0" right="1" top="0" bottom="0.828125"/>
				</Texture>
				<Texture file="Interface\MacroFrame\MacroPopup-BotLeft">
					<Size x="256" y="64"/>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="0" y="-212"/>
						</Anchor>
					</Anchors>
				</Texture>
				<Texture file="Interface\MacroFrame\MacroPopup-BotRight">
					<Size x="64" y="64"/>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="256" y="-212"/>
						</Anchor>
					</Anchors>
				</Texture> -->
			</Layer>	
			<Layer level="ARTWORK">
				<FontString inherits="GameFontHighlightSmall" text="GEARSETS_POPUP_TEXT" name="$parentNameText">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="24" y="-21"/>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString inherits="GameFontHighlightSmall" text="MACRO_POPUP_CHOOSE_ICON" name="$parentChooseIconText">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset x="24" y="-69"/>
						</Anchor>
					</Anchors>
				</FontString>					
			</Layer>
		</Layers>
		<Frames>
			<ScrollFrame name="$parentScrollFrame" inherits="ListScrollFrameTemplate">
				<Size>
					<AbsDimension x="485" y="369"/>
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT">
						<Offset>
							<AbsDimension x="-39" y="-67"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
							<Size x="30" y="120"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
									<Offset x="-3" y="2"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.46875" top="0.0234375" bottom="0.9609375"/>
						</Texture>
						<Texture file="Interface\ClassTrainerFrame\UI-ClassTrainer-ScrollBar">
							<Size x="30" y="79"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT">
									<Offset x="-3" y="-2"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0.53125" right="1.0" top="0.3828125" bottom="1.0"/>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnVerticalScroll>
						FauxScrollFrame_OnVerticalScroll(self, offset, GEARSET_ICON_ROW_HEIGHT, MCF_GearManagerDialogPopup_Update);
					</OnVerticalScroll>
				</Scripts>
			</ScrollFrame>				
			<EditBox name="$parentEditBox" letters="16" historyLines="0" autoFocus="true">
				<Size x="182" y="20"/>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset x="29" y="-35"/>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture name="$parentLeft" file="Interface\ClassTrainerFrame\UI-ClassTrainer-FilterBorder">
							<Size x="12" y="29"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset x="-11" y="0"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.09375" top="0" bottom="1.0"/>
						</Texture>
						<Texture name="$parentMiddle" file="Interface\ClassTrainerFrame\UI-ClassTrainer-FilterBorder">
							<Size x="175" y="29"/>
							<Anchors>
								<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT"/>
							</Anchors>
							<TexCoords left="0.09375" right="0.90625" top="0" bottom="1.0"/>
						</Texture>
						<Texture name="$parentRight" file="Interface\ClassTrainerFrame\UI-ClassTrainer-FilterBorder">
							<Size x="12" y="29"/>
							<Anchors>
								<Anchor point="LEFT" relativeTo="$parentMiddle" relativePoint="RIGHT"/>
							</Anchors>
							<TexCoords left="0.90625" right="1.0" top="0" bottom="1.0"/>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnTextChanged>
						local text = self:GetText();
						if ( text ~= "" ) then
							MCF_GearManagerDialogPopup.name = text;
						else
							MCF_GearManagerDialogPopup.name = nil;
						end
						
						MCF_GearManagerDialogPopupOkay_Update();
					</OnTextChanged>
					<OnEscapePressed function="MCF_GearManagerDialogPopupCancel_OnClick"/>
					<OnEnterPressed>
						if ( MCF_GearManagerDialogPopupOkay:IsEnabled() ) then
							MCF_GearManagerDialogPopupOkay:Click();
						end
					</OnEnterPressed>
				</Scripts>
				<FontString inherits="ChatFontNormal"/>
			</EditBox>	
			<Button name="$parentCancel" inherits="MCF-UIPanelButtonTemplate" text="CANCEL">
				<Size x="78" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset x="-11" y="13"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						MCF_GearManagerDialogPopupCancel_OnClick(self, button, pushed);
						PlaySound(SOUNDKIT.GS_TITLE_OPTION_OK);
					</OnClick>
				</Scripts>
			</Button>					
			<Button name="$parentOkay" inherits="MCF-UIPanelButtonTemplate" text="OKAY">
				<Size x="78" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativeTo="$parentCancel" relativePoint="BOTTOMLEFT">
						<Offset x="-2" y="0"/>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						MCF_GearManagerDialogPopupOkay_OnClick(self, button, pushed);
						PlaySound(SOUNDKIT.GS_TITLE_OPTION_OK);
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad function="MCF_GearManagerDialogPopup_OnLoad"/>
			<OnShow function="MCF_GearManagerDialogPopup_OnShow"/>
			<OnHide function="MCF_GearManagerDialogPopup_OnHide"/>
		</Scripts>				
	</Frame>
    <!-- Interface Options panel -->
    <Frame name="MCF_OptionsFrameTemplate" hidden="true" virtual="true">
		<Layers>
			<Layer level="ARTWORK">
				<FontString name="$parentTitle" text="Modern Character Frame" inherits="GameFontNormalLarge" justifyH="LEFT" justifyV="TOP">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="16" y="-16"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parentSubText" inherits="GameFontHighlightSmall" nonspacewrap="true" maxLines="5" justifyH="LEFT" justifyV="TOP">
					<!-- <Size>
						<AbsDimension y="42" x="0"/>
					</Size> -->
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parentTitle" relativePoint="BOTTOMLEFT">
							<Offset>
								<AbsDimension x="0" y="-8"/>
							</Offset>
						</Anchor>
						<Anchor point="RIGHT">
							<Offset>
								<AbsDimension x="-32" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="$parentItemColorButton" inherits="InterfaceOptionsCheckButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentSubText" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="-2" y="-16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad function="MCF_OptionsFrame_ItemSlotColorButton_OnLoad"/>
					<OnEnter>
						GameTooltip:SetOwner(self.Text, "ANCHOR_TOPLEFT", 0, 4);
						GameTooltip:SetText(self.tooltip, nil, nil, nil, nil, true);
					</OnEnter>
				</Scripts>
			</CheckButton>
			<CheckButton name="$parentRepairCost" inherits="InterfaceOptionsCheckButtonTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentItemColorButton" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="0" y="-8"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad function="MCF_OptionsFrame_RepairCostButton_OnLoad"/>
					<OnEnter>
						GameTooltip:SetOwner(self.Text, "ANCHOR_TOPLEFT", 0, 4);
						GameTooltip:SetText(self.tooltip, nil, nil, nil, nil, true);
					</OnEnter>
				</Scripts>
			</CheckButton>
            <Frame name="$parentTacoTipIntegration">
				<Size>
					<AbsDimension x="200" y="107"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="$parentRepairCost" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="4" y="-8"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="$parentTitle" inherits="GameFontNormal" justifyH="LEFT" justifyV="TOP">
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset>
										<AbsDimension x="0" y="0"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
                    <CheckButton name="$parentEnableButton" inherits="InterfaceOptionsCheckButtonTemplate">
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parentTitle" relativePoint="BOTTOMLEFT">
                                <Offset>
                                    <AbsDimension x="-2" y="-8"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                        <Scripts>
                            <OnLoad function="MCF_OptionsFrameTTEnableButton_OnLoad"/>
                            <OnShow function="MCF_OptionsFrameTTEnableButton_OnShow"/>
                            <OnEnter>
                                GameTooltip:SetOwner(self.Text, "ANCHOR_TOPLEFT", 0, 4);
                                GameTooltip:SetText(self.tooltip, nil, nil, nil, nil, true);
                            </OnEnter>
                        </Scripts>
                    </CheckButton>
                    <!-- <Frame name="$parentGSStatTypeDropDown" inherits="UIDropDownMenuTemplate" enableMouse="true">
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parentEnableButton" relativePoint="BOTTOMLEFT">
                                <Offset>
                                    <AbsDimension x="5" y="-15"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                        <Layers>
                            <Layer level="BACKGROUND">
                                <FontString name="$parentLabel" inherits="GameFontHighlightSmall">
                                    <Anchors>
                                        <Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT">
                                            <Offset>
                                                <AbsDimension x="16" y="3"/>
                                            </Offset>
                                        </Anchor>
                                    </Anchors>
                                </FontString>
                            </Layer>
                        </Layers>
                        <Scripts>
                            <OnLoad function="MCF_OptionsFrameGSTextTypeDropDown_OnLoad"/>
                            <OnEnter>
                                local EnableButton = _G[self:GetParent():GetName().."EnableButton"]
                                if ( EnableButton:GetChecked() and EnableButton:IsEnabled()) then
									GameTooltip:SetOwner(self, "ANCHOR_RIGHT", -120, 0);
									GameTooltip:SetText(self.tooltip, nil, nil, nil, nil, true);
                                end
                            </OnEnter>
                            <OnShow function="MCF_OptionsFrameGSTextTypeDropDown_OnShow"/>
                            <OnLeave function="GameTooltip_Hide"/>
                        </Scripts>
                    </Frame> -->
                    <CheckButton name="$parentGSColorEnableButton" inherits="InterfaceOptionsCheckButtonTemplate">
                        <Size x="20" y="20"/>
                        <!-- <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parentGSStatTypeDropDown" relativePoint="BOTTOMLEFT">
                                <Offset>
                                    <AbsDimension x="16" y="2"/>
                                </Offset>
                            </Anchor>
                        </Anchors> -->
                        <Scripts>
                            <OnLoad function="MCF_OptionsFrameGSColorEnableButton_OnLoad"/>
                            <OnShow function="MCF_OptionsFrameGSColorEnableButton_OnShow"/>
                            <OnEnter>
                                GameTooltip:SetOwner(self.Text, "ANCHOR_TOPLEFT", 0, 4);
                                GameTooltip:SetText(self.tooltip, nil, nil, nil, nil, true);
                            </OnEnter>
                        </Scripts>
                    </CheckButton>
                </Frames>
            </Frame>
            <Button name="$parentResetButton" inherits="UIPanelButtonTemplate">
                <Size x="134" y="22"/>
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" relativeTo="MCF_OptionsFrame" relativePoint="BOTTOMRIGHT" x="-8" y="8"/>
                </Anchors>
                <ButtonText name="$parentText" parentKey="text" justifyH="LEFT" justifyV="MIDDLE">
                    <Anchors>
                        <Anchor point="LEFT" x="20" y="0"/>
                    </Anchors>
                </ButtonText>
                <Scripts>
                    <OnLoad function="MCF_OptionsFrameResetSettingsButton_OnLoad"/>
                    <OnShow function="MCF_OptionsFrameResetSettingsButton_OnShow"/>
                    <OnEnter>
                        GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
                        GameTooltip:SetText(self.tooltip, nil, nil, nil, nil, true);
                    </OnEnter>
                    <OnLeave function="GameTooltip_Hide"/>
                    <OnClick function="MCF_OptionsFrameResetSettingsButton_OnClick"/>
                </Scripts>
            </Button>
		</Frames>
		<Scripts>
			<OnLoad function="MCF_OptionsFrame_OnLoad"/>
		</Scripts>
	</Frame>
</Ui>